{"version":3,"file":"module.js","mappings":"oIAAA,IAGIA,EAHO,EAAQ,MAGDA,OAElBC,EAAOC,QAAUF,C,WCejBC,EAAOC,QAVP,SAAeC,EAAMC,EAASC,GAC5B,OAAQA,EAAKC,QACX,KAAK,EAAG,OAAOH,EAAKI,KAAKH,GACzB,KAAK,EAAG,OAAOD,EAAKI,KAAKH,EAASC,EAAK,IACvC,KAAK,EAAG,OAAOF,EAAKI,KAAKH,EAASC,EAAK,GAAIA,EAAK,IAChD,KAAK,EAAG,OAAOF,EAAKI,KAAKH,EAASC,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAE3D,OAAOF,EAAKK,MAAMJ,EAASC,EAC7B,C,iBClBA,IAAII,EAAY,EAAQ,MACpBC,EAAc,EAAQ,MACtBC,EAAU,EAAQ,MAClBC,EAAW,EAAQ,MACnBC,EAAU,EAAQ,MAClBC,EAAe,EAAQ,MAMvBC,EAHcC,OAAOC,UAGQF,eAqCjCd,EAAOC,QA3BP,SAAuBgB,EAAOC,GAC5B,IAAIC,EAAQT,EAAQO,GAChBG,GAASD,GAASV,EAAYQ,GAC9BI,GAAUF,IAAUC,GAAST,EAASM,GACtCK,GAAUH,IAAUC,IAAUC,GAAUR,EAAaI,GACrDM,EAAcJ,GAASC,GAASC,GAAUC,EAC1CE,EAASD,EAAcf,EAAUS,EAAMZ,OAAQoB,QAAU,GACzDpB,EAASmB,EAAOnB,OAEpB,IAAK,IAAIqB,KAAOT,GACTC,IAAaJ,EAAeR,KAAKW,EAAOS,IACvCH,IAEQ,UAAPG,GAECL,IAAkB,UAAPK,GAA0B,UAAPA,IAE9BJ,IAAkB,UAAPI,GAA0B,cAAPA,GAA8B,cAAPA,IAEtDd,EAAQc,EAAKrB,KAElBmB,EAAOG,KAAKD,GAGhB,OAAOF,CACT,C,iBC9CA,IAAIzB,EAAS,EAAQ,MACjB6B,EAAY,EAAQ,MACpBC,EAAiB,EAAQ,MAOzBC,EAAiB/B,EAASA,EAAOgC,iBAAcC,EAkBnDhC,EAAOC,QATP,SAAoBgB,GAClB,OAAa,MAATA,OACee,IAAVf,EAdQ,qBADL,gBAiBJa,GAAkBA,KAAkBf,OAAOE,GAC/CW,EAAUX,GACVY,EAAeZ,EACrB,C,iBCzBA,IAAIgB,EAAa,EAAQ,MACrBC,EAAe,EAAQ,MAgB3BlC,EAAOC,QAJP,SAAyBgB,GACvB,OAAOiB,EAAajB,IAVR,sBAUkBgB,EAAWhB,EAC3C,C,iBCfA,IAAIkB,EAAa,EAAQ,MACrBC,EAAW,EAAQ,MACnBC,EAAW,EAAQ,MACnBC,EAAW,EAAQ,MASnBC,EAAe,8BAGfC,EAAYC,SAASzB,UACrB0B,EAAc3B,OAAOC,UAGrB2B,EAAeH,EAAUI,SAGzB9B,EAAiB4B,EAAY5B,eAG7B+B,EAAaC,OAAO,IACtBH,EAAarC,KAAKQ,GAAgBiC,QAjBjB,sBAiBuC,QACvDA,QAAQ,yDAA0D,SAAW,KAmBhF/C,EAAOC,QARP,SAAsBgB,GACpB,SAAKoB,EAASpB,IAAUmB,EAASnB,MAGnBkB,EAAWlB,GAAS4B,EAAaN,GAChCS,KAAKV,EAASrB,GAC/B,C,iBC5CA,IAAIgB,EAAa,EAAQ,MACrBgB,EAAW,EAAQ,MACnBf,EAAe,EAAQ,MA8BvBgB,EAAiB,CAAC,EACtBA,EAZiB,yBAYYA,EAXZ,yBAYjBA,EAXc,sBAWYA,EAVX,uBAWfA,EAVe,uBAUYA,EATZ,uBAUfA,EATsB,8BASYA,EARlB,wBAShBA,EARgB,yBAQY,EAC5BA,EAjCc,sBAiCYA,EAhCX,kBAiCfA,EApBqB,wBAoBYA,EAhCnB,oBAiCdA,EApBkB,qBAoBYA,EAhChB,iBAiCdA,EAhCe,kBAgCYA,EA/Bb,qBAgCdA,EA/Ba,gBA+BYA,EA9BT,mBA+BhBA,EA9BgB,mBA8BYA,EA7BZ,mBA8BhBA,EA7Ba,gBA6BYA,EA5BT,mBA6BhBA,EA5BiB,qBA4BY,EAc7BlD,EAAOC,QALP,SAA0BgB,GACxB,OAAOiB,EAAajB,IAClBgC,EAAShC,EAAMZ,WAAa6C,EAAejB,EAAWhB,GAC1D,C,iBCzDA,IAAIoB,EAAW,EAAQ,MACnBc,EAAc,EAAQ,MACtBC,EAAe,EAAQ,MAMvBtC,EAHcC,OAAOC,UAGQF,eAwBjCd,EAAOC,QAfP,SAAoBoD,GAClB,IAAKhB,EAASgB,GACZ,OAAOD,EAAaC,GAEtB,IAAIC,EAAUH,EAAYE,GACtB7B,EAAS,GAEb,IAAK,IAAIE,KAAO2B,GACD,eAAP3B,IAAyB4B,GAAYxC,EAAeR,KAAK+C,EAAQ3B,KACrEF,EAAOG,KAAKD,GAGhB,OAAOF,CACT,C,iBC9BA,IAAI+B,EAAW,EAAQ,MACnBC,EAAW,EAAQ,MACnBC,EAAc,EAAQ,MAc1BzD,EAAOC,QAJP,SAAkBC,EAAMwD,GACtB,OAAOD,EAAYD,EAAStD,EAAMwD,EAAOH,GAAWrD,EAAO,GAC7D,C,iBCdA,IAAIyD,EAAW,EAAQ,KACnBC,EAAiB,EAAQ,MACzBL,EAAW,EAAQ,MAUnBM,EAAmBD,EAA4B,SAAS1D,EAAM4D,GAChE,OAAOF,EAAe1D,EAAM,WAAY,CACtC,cAAgB,EAChB,YAAc,EACd,MAASyD,EAASG,GAClB,UAAY,GAEhB,EAPwCP,EASxCvD,EAAOC,QAAU4D,C,WCFjB7D,EAAOC,QAVP,SAAmB8D,EAAGC,GAIpB,IAHA,IAAIC,GAAS,EACTzC,EAAS0C,MAAMH,KAEVE,EAAQF,GACfvC,EAAOyC,GAASD,EAASC,GAE3B,OAAOzC,CACT,C,WCJAxB,EAAOC,QANP,SAAmBC,GACjB,OAAO,SAASe,GACd,OAAOf,EAAKe,EACd,CACF,C,iBCXA,IAGIkD,EAHO,EAAQ,MAGG,sBAEtBnE,EAAOC,QAAUkE,C,iBCLjB,IAAIC,EAAY,EAAQ,MAEpBR,EAAkB,WACpB,IACE,IAAI1D,EAAOkE,EAAUrD,OAAQ,kBAE7B,OADAb,EAAK,CAAC,EAAG,GAAI,CAAC,GACPA,CACI,CAAX,MAAOmE,GAAI,CACf,CANqB,GAQrBrE,EAAOC,QAAU2D,C,iBCTjB,IAAIU,EAA8B,iBAAV,EAAAC,GAAsB,EAAAA,GAAU,EAAAA,EAAOxD,SAAWA,QAAU,EAAAwD,EAEpFvE,EAAOC,QAAUqE,C,iBCHjB,IAAIE,EAAe,EAAQ,MACvBC,EAAW,EAAQ,MAevBzE,EAAOC,QALP,SAAmBoD,EAAQ3B,GACzB,IAAIT,EAAQwD,EAASpB,EAAQ3B,GAC7B,OAAO8C,EAAavD,GAASA,OAAQe,CACvC,C,iBCdA,IAAIjC,EAAS,EAAQ,MAGjB2C,EAAc3B,OAAOC,UAGrBF,EAAiB4B,EAAY5B,eAO7B4D,EAAuBhC,EAAYE,SAGnCd,EAAiB/B,EAASA,EAAOgC,iBAAcC,EA6BnDhC,EAAOC,QApBP,SAAmBgB,GACjB,IAAI0D,EAAQ7D,EAAeR,KAAKW,EAAOa,GACnC8C,EAAM3D,EAAMa,GAEhB,IACEb,EAAMa,QAAkBE,EACxB,IAAI6C,GAAW,CACJ,CAAX,MAAOR,GAAI,CAEb,IAAI7C,EAASkD,EAAqBpE,KAAKW,GAQvC,OAPI4D,IACEF,EACF1D,EAAMa,GAAkB8C,SAEjB3D,EAAMa,IAGVN,CACT,C,WC/BAxB,EAAOC,QAJP,SAAkBoD,EAAQ3B,GACxB,OAAiB,MAAV2B,OAAiBrB,EAAYqB,EAAO3B,EAC7C,C,WCTA,IAGIoD,EAAW,mBAoBf9E,EAAOC,QAVP,SAAiBgB,EAAOZ,GACtB,IAAI0E,SAAc9D,EAGlB,SAFAZ,EAAmB,MAAVA,EAfY,iBAewBA,KAGlC,UAAR0E,GACU,UAARA,GAAoBD,EAAS9B,KAAK/B,KAChCA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,EAAQZ,CACjD,C,iBCtBA,IAAI2E,EAAK,EAAQ,MACbC,EAAc,EAAQ,IACtBrE,EAAU,EAAQ,MAClByB,EAAW,EAAQ,MA0BvBrC,EAAOC,QAdP,SAAwBgB,EAAOgD,EAAOZ,GACpC,IAAKhB,EAASgB,GACZ,OAAO,EAET,IAAI0B,SAAcd,EAClB,SAAY,UAARc,EACKE,EAAY5B,IAAWzC,EAAQqD,EAAOZ,EAAOhD,QACrC,UAAR0E,GAAoBd,KAASZ,IAE7B2B,EAAG3B,EAAOY,GAAQhD,EAG7B,C,iBC3BA,IAIMiE,EAJFf,EAAa,EAAQ,MAGrBgB,GACED,EAAM,SAASE,KAAKjB,GAAcA,EAAWkB,MAAQlB,EAAWkB,KAAKC,UAAY,KACvE,iBAAmBJ,EAAO,GAc1ClF,EAAOC,QAJP,SAAkBC,GAChB,QAASiF,GAAeA,KAAcjF,CACxC,C,WChBA,IAAIwC,EAAc3B,OAAOC,UAgBzBhB,EAAOC,QAPP,SAAqBgB,GACnB,IAAIsE,EAAOtE,GAASA,EAAMuE,YAG1B,OAAOvE,KAFqB,mBAARsE,GAAsBA,EAAKvE,WAAc0B,EAG/D,C,WCIA1C,EAAOC,QAVP,SAAsBoD,GACpB,IAAI7B,EAAS,GACb,GAAc,MAAV6B,EACF,IAAK,IAAI3B,KAAOX,OAAOsC,GACrB7B,EAAOG,KAAKD,GAGhB,OAAOF,CACT,C,4BCjBA,IAAI8C,EAAa,EAAQ,MAGrBmB,EAA4CxF,IAAYA,EAAQyF,UAAYzF,EAG5E0F,EAAaF,GAA4CzF,IAAWA,EAAO0F,UAAY1F,EAMvF4F,EAHgBD,GAAcA,EAAW1F,UAAYwF,GAGtBnB,EAAWuB,QAG1CC,EAAY,WACd,IAIE,OAFYH,GAAcA,EAAWI,SAAWJ,EAAWI,QAAQ,QAAQC,OAOpEJ,GAAeA,EAAYK,SAAWL,EAAYK,QAAQ,OACtD,CAAX,MAAO5B,GAAI,CACf,CAZe,GAcfrE,EAAOC,QAAU6F,C,WC5BjB,IAOIpB,EAPc3D,OAAOC,UAOc4B,SAavC5C,EAAOC,QAJP,SAAwBgB,GACtB,OAAOyD,EAAqBpE,KAAKW,EACnC,C,iBCnBA,IAAIV,EAAQ,EAAQ,MAGhB2F,EAAYC,KAAKC,IAgCrBpG,EAAOC,QArBP,SAAkBC,EAAMwD,EAAO2C,GAE7B,OADA3C,EAAQwC,OAAoBlE,IAAV0B,EAAuBxD,EAAKG,OAAS,EAAKqD,EAAO,GAC5D,WAML,IALA,IAAItD,EAAOkG,UACPrC,GAAS,EACT5D,EAAS6F,EAAU9F,EAAKC,OAASqD,EAAO,GACxC6C,EAAQrC,MAAM7D,KAET4D,EAAQ5D,GACfkG,EAAMtC,GAAS7D,EAAKsD,EAAQO,GAE9BA,GAAS,EAET,IADA,IAAIuC,EAAYtC,MAAMR,EAAQ,KACrBO,EAAQP,GACf8C,EAAUvC,GAAS7D,EAAK6D,GAG1B,OADAuC,EAAU9C,GAAS2C,EAAUE,GACtBhG,EAAML,EAAMuG,KAAMD,EAC3B,CACF,C,iBCjCA,IAAIlC,EAAa,EAAQ,MAGrBoC,EAA0B,iBAARC,MAAoBA,MAAQA,KAAK5F,SAAWA,QAAU4F,KAGxEC,EAAOtC,GAAcoC,GAAYjE,SAAS,cAATA,GAErCzC,EAAOC,QAAU2G,C,iBCRjB,IAAI/C,EAAkB,EAAQ,MAW1BJ,EAVW,EAAQ,KAULoD,CAAShD,GAE3B7D,EAAOC,QAAUwD,C,WCZjB,IAIIqD,EAAYC,KAAKC,IA+BrBhH,EAAOC,QApBP,SAAkBC,GAChB,IAAI+G,EAAQ,EACRC,EAAa,EAEjB,OAAO,WACL,IAAIC,EAAQL,IACRM,EApBO,IAoBiBD,EAAQD,GAGpC,GADAA,EAAaC,EACTC,EAAY,GACd,KAAMH,GAzBI,IA0BR,OAAOX,UAAU,QAGnBW,EAAQ,EAEV,OAAO/G,EAAKK,WAAMyB,EAAWsE,UAC/B,CACF,C,WCjCA,IAGI3D,EAHYF,SAASzB,UAGI4B,SAqB7B5C,EAAOC,QAZP,SAAkBC,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOyC,EAAarC,KAAKJ,EACd,CAAX,MAAOmE,GAAI,CACb,IACE,OAAQnE,EAAO,EACJ,CAAX,MAAOmE,GAAI,CACf,CACA,MAAO,EACT,C,UCEArE,EAAOC,QANP,SAAkBgB,GAChB,OAAO,WACL,OAAOA,CACT,CACF,C,gBCvBA,IAAIoG,EAAW,EAAQ,MACnBrC,EAAK,EAAQ,MACbsC,EAAiB,EAAQ,MACzBC,EAAS,EAAQ,MAGjB7E,EAAc3B,OAAOC,UAGrBF,EAAiB4B,EAAY5B,eAuB7B0G,EAAWH,GAAS,SAAShE,EAAQoE,GACvCpE,EAAStC,OAAOsC,GAEhB,IAAIY,GAAS,EACT5D,EAASoH,EAAQpH,OACjBqH,EAAQrH,EAAS,EAAIoH,EAAQ,QAAKzF,EAMtC,IAJI0F,GAASJ,EAAeG,EAAQ,GAAIA,EAAQ,GAAIC,KAClDrH,EAAS,KAGF4D,EAAQ5D,GAMf,IALA,IAAIsH,EAASF,EAAQxD,GACjB2D,EAAQL,EAAOI,GACfE,GAAc,EACdC,EAAcF,EAAMvH,SAEfwH,EAAaC,GAAa,CACjC,IAAIpG,EAAMkG,EAAMC,GACZ5G,EAAQoC,EAAO3B,SAELM,IAAVf,GACC+D,EAAG/D,EAAOyB,EAAYhB,MAAUZ,EAAeR,KAAK+C,EAAQ3B,MAC/D2B,EAAO3B,GAAOiG,EAAOjG,GAEzB,CAGF,OAAO2B,CACT,IAEArD,EAAOC,QAAUuH,C,WC3BjBxH,EAAOC,QAJP,SAAYgB,EAAO8G,GACjB,OAAO9G,IAAU8G,GAAU9G,GAAUA,GAAS8G,GAAUA,CAC1D,C,WCdA/H,EAAOC,QAJP,SAAkBgB,GAChB,OAAOA,CACT,C,iBClBA,IAAI+G,EAAkB,EAAQ,MAC1B9F,EAAe,EAAQ,MAGvBQ,EAAc3B,OAAOC,UAGrBF,EAAiB4B,EAAY5B,eAG7BmH,EAAuBvF,EAAYuF,qBAoBnCxH,EAAcuH,EAAgB,WAAa,OAAO1B,SAAW,CAA/B,IAAsC0B,EAAkB,SAAS/G,GACjG,OAAOiB,EAAajB,IAAUH,EAAeR,KAAKW,EAAO,YACtDgH,EAAqB3H,KAAKW,EAAO,SACtC,EAEAjB,EAAOC,QAAUQ,C,WCZjB,IAAIC,EAAUwD,MAAMxD,QAEpBV,EAAOC,QAAUS,C,eCzBjB,IAAIyB,EAAa,EAAQ,MACrBc,EAAW,EAAQ,MA+BvBjD,EAAOC,QAJP,SAAqBgB,GACnB,OAAgB,MAATA,GAAiBgC,EAAShC,EAAMZ,UAAY8B,EAAWlB,EAChE,C,4BC9BA,IAAI2F,EAAO,EAAQ,MACfsB,EAAY,EAAQ,MAGpBzC,EAA4CxF,IAAYA,EAAQyF,UAAYzF,EAG5E0F,EAAaF,GAA4CzF,IAAWA,EAAO0F,UAAY1F,EAMvFmI,EAHgBxC,GAAcA,EAAW1F,UAAYwF,EAG5BmB,EAAKuB,YAASnG,EAsBvCrB,GAnBiBwH,EAASA,EAAOxH,cAAWqB,IAmBfkG,EAEjClI,EAAOC,QAAUU,C,iBCrCjB,IAAIsB,EAAa,EAAQ,MACrBI,EAAW,EAAQ,MAmCvBrC,EAAOC,QAVP,SAAoBgB,GAClB,IAAKoB,EAASpB,GACZ,OAAO,EAIT,IAAI2D,EAAM3C,EAAWhB,GACrB,MA5BY,qBA4BL2D,GA3BI,8BA2BcA,GA7BZ,0BA6B6BA,GA1B7B,kBA0BgDA,CAC/D,C,WCAA5E,EAAOC,QALP,SAAkBgB,GAChB,MAAuB,iBAATA,GACZA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,GA9Bb,gBA+BvB,C,WCFAjB,EAAOC,QALP,SAAkBgB,GAChB,IAAI8D,SAAc9D,EAClB,OAAgB,MAATA,IAA0B,UAAR8D,GAA4B,YAARA,EAC/C,C,WCAA/E,EAAOC,QAJP,SAAsBgB,GACpB,OAAgB,MAATA,GAAiC,iBAATA,CACjC,C,iBC1BA,IAAImH,EAAmB,EAAQ,MAC3BC,EAAY,EAAQ,MACpBvC,EAAW,EAAQ,MAGnBwC,EAAmBxC,GAAYA,EAASjF,aAmBxCA,EAAeyH,EAAmBD,EAAUC,GAAoBF,EAEpEpI,EAAOC,QAAUY,C,iBC1BjB,IAAI0H,EAAgB,EAAQ,MACxBC,EAAa,EAAQ,MACrBvD,EAAc,EAAQ,IA6B1BjF,EAAOC,QAJP,SAAgBoD,GACd,OAAO4B,EAAY5B,GAAUkF,EAAclF,GAAQ,GAAQmF,EAAWnF,EACxE,C,WCZArD,EAAOC,QAJP,WACE,OAAO,CACT,C,wBCfAD,EAAOC,QAAUwI,C,wBCAjBzI,EAAOC,QAAUyI,C,wBCAjB1I,EAAOC,QAAU0I,C,wBCAjB3I,EAAOC,QAAU2I,C,wBCAjB5I,EAAOC,QAAU4I,C,wBCAjB7I,EAAOC,QAAU6I,C,GCCbC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBjH,IAAjBkH,EACH,OAAOA,EAAajJ,QAGrB,IAAID,EAAS+I,EAAyBE,GAAY,CACjDE,GAAIF,EACJG,QAAQ,EACRnJ,QAAS,CAAC,GAUX,OANAoJ,EAAoBJ,GAAUjJ,EAAQA,EAAOC,QAAS+I,GAGtDhJ,EAAOoJ,QAAS,EAGTpJ,EAAOC,OACf,CCxBA+I,EAAoBjF,EAAK/D,IACxB,IAAIsJ,EAAStJ,GAAUA,EAAOuJ,WAC7B,IAAOvJ,EAAiB,QACxB,IAAM,EAEP,OADAgJ,EAAoBQ,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLdN,EAAoBQ,EAAI,CAACvJ,EAASyJ,KACjC,IAAI,IAAIhI,KAAOgI,EACXV,EAAoBW,EAAED,EAAYhI,KAASsH,EAAoBW,EAAE1J,EAASyB,IAC5EX,OAAO6C,eAAe3D,EAASyB,EAAK,CAAEkI,YAAY,EAAMC,IAAKH,EAAWhI,IAE1E,ECNDsH,EAAoBzE,EAAI,WACvB,GAA0B,iBAAfuF,WAAyB,OAAOA,WAC3C,IACC,OAAOrD,MAAQ,IAAIhE,SAAS,cAAb,EAGhB,CAFE,MAAO4B,GACR,GAAsB,iBAAX0F,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBf,EAAoBW,EAAI,CAACK,EAAKC,IAAUlJ,OAAOC,UAAUF,eAAeR,KAAK0J,EAAKC,GCClFjB,EAAoBkB,EAAKjK,IACH,oBAAXF,QAA0BA,OAAOgC,aAC1ChB,OAAO6C,eAAe3D,EAASF,OAAOgC,YAAa,CAAEd,MAAO,WAE7DF,OAAO6C,eAAe3D,EAAS,aAAc,CAAEgB,OAAO,GAAO,ECL9D+H,EAAoBmB,IAAOnK,IAC1BA,EAAOoK,MAAQ,GACVpK,EAAOqK,WAAUrK,EAAOqK,SAAW,IACjCrK,G,oECHD,EAyCA,EAgEA,E,wCAzGKsK,GAAAA,EACVC,KAAAA,OADUD,EAIVE,QAAAA,UAJUF,EAKVG,MAAAA,QALUH,EAMVI,OAAAA,SANUJ,EAOVK,OAAAA,SAPUL,EAQVM,OAAAA,SARUN,EASVO,KAAAA,OATUP,EAUVQ,MAAAA,QAVUR,EAWVS,MAAAA,QAXUT,EAYVU,MAAAA,QAZUV,EAaVW,QAAAA,UAbUX,EAcVY,QAAAA,UAdUZ,EAiBV7I,OAAAA,SAjBU6I,EAkBVa,OAAAA,SAlBUb,EAyBVvD,KAAAA,OAzBUuD,EA8BVc,SAAAA,WA9BUd,EAgCVe,gBAAAA,kBAhCUf,EAiCVgB,qBAAAA,uBAjCUhB,EAkCViB,qBAAAA,uBAlCUjB,EAmCVkB,oBAAAA,sBAnCUlB,EAqCVmB,KAAAA,M,EArCUnB,IAAAA,EAAAA,CAAAA,I,SAyCAoB,GAAAA,EAAAA,EAGVC,QAAU,GAAVA,UAHUD,EAAAA,EAMVE,QAAU,KAAVA,UANUF,EAAAA,EAQVG,YAAc,MAAdA,cARUH,EAAAA,EAUVI,WAAa,MAAbA,aAVUJ,EAAAA,EAYVK,SAAW,MAAXA,WAZUL,EAAAA,EAcVM,iBAAmB,MAAnBA,mBAdUN,EAAAA,EAmBVO,cAAgB,KAAhBA,gBAnBUP,EAAAA,EAwBVQ,UAAY,KAAZA,YAxBUR,EAAAA,EA0BVS,mBAAqB,MAArBA,qBA1BUT,EAAAA,EA+BVU,mBAAqB,KAArBA,qBA/BUV,EAAAA,EAgCVW,cAAgB,MAAhBA,gBAhCUX,EAAAA,EAiCVY,oBAAsB,MAAtBA,sBAjCUZ,EAAAA,EAkCVa,kBAAoB,MAApBA,oBAlCUb,EAAAA,EAmCVc,iBAAmB,MAAnBA,mBAnCUd,EAAAA,EAwCVe,mBAAqB,KAArBA,qBAxCUf,EAAAA,EA6CVgB,0BAA4B,KAA5BA,4BA7CUhB,EAAAA,EAkDViB,aAAe,KAAfA,eAlDUjB,EAAAA,EAoDVkB,wBAA0B,MAA1BA,0BApDUlB,EAAAA,EAsDVmB,qBAAuB,MAAvBA,uBAtDUnB,EAAAA,EAwDVoB,mBAAqB,MAArBA,qBAxDUpB,EAAAA,EA0DVqB,kBAAoB,MAApBA,oBA1DUrB,EAAAA,EA4DVsB,aAAe,MAAfA,c,EA5DUtB,IAAAA,EAAAA,CAAAA,I,SAgEAuB,GAAAA,EACVC,MAAQ,MADED,EAEVE,OAAAA,Q,EAFUF,IAAAA,EAAAA,CAAAA,ICtGZ,MAAMG,EAA8D,CAClE,CAAC9C,EAAkBC,MAAO8C,EAAAA,UAAAA,MAG1B,CAAC/C,EAAkBE,SAAU6C,EAAAA,UAAAA,QAC7B,CAAC/C,EAAkBG,OAAQ4C,EAAAA,UAAAA,OAC3B,CAAC/C,EAAkBI,QAAS2C,EAAAA,UAAAA,OAC5B,CAAC/C,EAAkBK,QAAS0C,EAAAA,UAAAA,OAC5B,CAAC/C,EAAkBM,QAASyC,EAAAA,UAAAA,OAC5B,CAAC/C,EAAkBO,MAAOwC,EAAAA,UAAAA,OAC1B,CAAC/C,EAAkBQ,OAAQuC,EAAAA,UAAAA,OAC3B,CAAC/C,EAAkBS,OAAQsC,EAAAA,UAAAA,OAC3B,CAAC/C,EAAkBU,OAAQqC,EAAAA,UAAAA,OAC3B,CAAC/C,EAAkBW,SAAUoC,EAAAA,UAAAA,OAC7B,CAAC/C,EAAkBY,SAAUmC,EAAAA,UAAAA,OAG7B,CAAC/C,EAAkB7I,QAAS4L,EAAAA,UAAAA,OAC5B,CAAC/C,EAAkBa,QAASkC,EAAAA,UAAAA,OAG5B,CAAC/C,EAAkBvD,MAAOsG,EAAAA,UAAAA,KAC1B,CAAC/C,EAAkBc,UAAWiC,EAAAA,UAAAA,KAE9B,CAAC/C,EAAkBe,iBAAkBgC,EAAAA,UAAAA,KACrC,CAAC/C,EAAkBgB,sBAAuB+B,EAAAA,UAAAA,KAC1C,CAAC/C,EAAkBiB,sBAAuB8B,EAAAA,UAAAA,KAC1C,CAAC/C,EAAkBkB,qBAAsB6B,EAAAA,UAAAA,KAEzC,CAAC/C,EAAkBmB,MAAO4B,EAAAA,UAAAA,OChC5B,0B,kSAUO,MAAMC,EAgBGC,MAA+BC,G,OAA7C,eAOE,MAAMC,GAAWC,EAAAA,EAAAA,gBAAcC,EAAAA,EAAAA,iBAAgBJ,MAA2BC,IACpEI,SAAcH,GAAUG,KAE9B,GAAI,UAAWA,EACb,MAAM,IAAIC,MAAM,cAAcD,EAAKE,gBACjCF,EAAKG,SAGT,OAAOH,CACT,GAhBA,E,CA4BMI,SAAkCC,G,kBAAxC,eAaE,aAZmD,EAAKV,MAAM,CAC5DW,IAAK,EAAKC,QACVC,OAAQ,OACRC,QAAS,CACP,eAAgB,qCAElBC,OAAQ,CACNL,IAAKA,EACLM,GAAsB,KAAlB,EAAKC,cAAkBxM,EAAY,EAAKwM,WAKlD,GAdA,E,CAgBMC,oBAAoBR,G,kBAA1B,eAEE,ODzBG,SAAkCR,GAEvC,IAAKA,EAASiB,OAAO,GAAGC,QAAQC,KAAKvO,OAEnC,OAAO,IAAIwO,EAAAA,iBAGb,MAAMC,EAAgBrB,EAASiB,OAAO,GAAGC,QAAQI,OAAOC,eAClDC,EAAWxB,EAASiB,OAAO,GAAGC,QAAQC,KAU5C,OATc,IAAIC,EAAAA,iBAAiB,CACjCK,OAAQJ,EAAcK,KAAI,CAACC,EAAcC,KAChC,CACLC,KAAMF,EAAaE,KACnBvK,KAAMqI,EAAsBgC,EAAaG,WACzCC,OAAQP,EAASE,KAAKM,GAAQA,EAAIJ,UAK1C,CCMWK,OADgB,EAAK1B,SAASC,GAEvC,GAHA,E,CAQA,a,kBAAA,eAGE,OD1CqDR,QCwCK,EAAKO,SAAS,eDvCnEP,EAASiB,OAAO,GAAGC,QAAQC,MCyCCO,KAAKM,GAAQA,EAAI,KD1C/C,IAAkDhC,CC2CvD,GAJA,E,CASA,yBAA+BkC,G,kBAA/B,eAME,aAFkE,EAAK3B,SAAS,cAAc2B,MAE9EjB,OAAO,GAAGC,QAAQC,KAAKO,KAAKM,IAAS,CACnDH,KAAMG,EAAI,GACVF,UAAWE,EAAI,GACfG,SAAqB,QAAXH,EAAI,GACdI,QAASJ,EAAI,GACbK,cAAeL,EAAI,MAEvB,GAbA,E,CAeMM,wBAAwBJ,G,kBAA9B,eAEE,aADsB,EAAKK,yBAAyBL,IACrCR,KAAKJ,GAAWA,EAAOO,MACxC,GAHA,E,CAvFA9J,YAAYyK,EAAiBzB,GAC3B/H,KAAKwJ,QAAUA,EACfxJ,KAAK+H,SAAWA,EAChB/H,KAAK0H,QAAU,GAAG1H,KAAKwJ,gBACzB,ECjBF,0B,kSAaO,MAAMC,UAAmBC,EAAAA,cAUxBC,MAAM5C,G,kBAAZ,eACE,MAAM6C,EAAW7C,EAAQ8C,QAAQnB,K,EAAI,aAAOoB,GAC1C,IAAKA,EAAOC,UACV,OAAO,IAAI3B,EAAAA,iBAKb,IAAI2B,EAAYD,EAAOC,UAKvB,OAJID,EAAOE,aACTD,ECzBD,SAAgCA,EAAmBE,EAAkBD,GAC1E,OAAOD,EAAUzN,QATc,gBAEjC,SAA4B2N,EAAkBD,GAC5C,MAAM,KAAEE,EAAI,GAAEC,GAAOF,EAErB,MAAO,GAAGD,QAA+B,IAAdE,EAAKE,cAAqBJ,QAA6B,IAAZG,EAAGC,QAC3E,CAG8CC,CAAmBJ,EAAOD,GACxE,CDuBoBM,CAAuBP,EAAWhD,EAAQkD,MAAOH,EAAOE,mBAGzD,EAAKO,OAAOvC,oBAAoB+B,EAC/C,I,SAb4CD,G,kCAAP,I,EAerC,OAAOU,QAAQC,IAAIb,GAAUc,MAAMvD,IAAU,CAAEA,UACjD,GAjBA,E,CAqBMwD,iB,kBAAN,eAiBE,IACE,MAAM3D,QAAiB,EAAKuD,OAAOhD,SAAS,YAC5C,OAAsB,IAAlBP,EAASK,MAAyD,IAA3CL,EAASiB,OAAO,GAAGC,QAAQC,KAAKvO,OAClD,CACLgR,OAAQ,UACRC,QAAS,oCAGJ,CACLD,OAAQ,QACRC,QAAS,uBAAuB7D,EAASK,qIA4B/C,CAxBE,MAAOyD,GAGP,OAAIA,aAAexQ,QACb,SAAUwQ,GACRA,EAAI3D,gBAAgB7M,QAClB,YAAawQ,EAAI3D,MACM,yCAArB2D,EAAI3D,KAAK0D,QAEJ,CACLD,OAAQ,QACRC,QAAS,8FASd,CACLD,OAAQ,QACRC,QAAS,kCAEb,CACF,GAxDA,E,CA3BA9L,YAAYgM,GACVC,MAAMD,GACN/K,KAAKuK,OAAS,IAAI1D,EAAwBkE,EAAiBtD,IAAMsD,EAAiBE,SAASlD,UAC3F/H,KAAKkL,cAAgBH,EAAiBE,SAASC,aACjD,E,iCEvBF,SAAS5N,EAAEA,GAAG,IAAI,IAAImG,EAAE5D,UAAUjG,OAAOuR,EAAE1N,MAAMgG,EAAE,EAAEA,EAAE,EAAE,GAAG7F,EAAE,EAAEA,EAAE6F,EAAE7F,IAAIuN,EAAEvN,EAAE,GAAGiC,UAAUjC,GAAkJ,MAAMwJ,MAAM,8BAA8B9J,GAAG6N,EAAEvR,OAAO,IAAIuR,EAAEzC,KAAI,SAAUpL,GAAG,MAAM,IAAIA,EAAE,GAAI,IAAG8N,KAAK,KAAK,IAAI,mDAAmD,CAAC,SAAS3H,EAAEnG,GAAG,QAAQA,KAAKA,EAAE+N,GAAE,CAAC,SAASF,EAAE7N,GAAG,IAAImG,EAAE,QAAQnG,IAAI,SAASA,GAAG,IAAIA,GAAG,iBAAiBA,EAAE,OAAM,EAAG,IAAImG,EAAEnJ,OAAOgR,eAAehO,GAAG,GAAG,OAAOmG,EAAE,OAAM,EAAG,IAAI0H,EAAE7Q,OAAOD,eAAeR,KAAK4J,EAAE,gBAAgBA,EAAE1E,YAAY,OAAOoM,IAAI7Q,QAAQ,mBAAmB6Q,GAAGnP,SAASG,SAAStC,KAAKsR,KAAKI,EAAC,CAA1O,CAA4OjO,IAAIG,MAAMxD,QAAQqD,MAAMA,EAAEkO,QAAO,QAAQ/H,EAAEnG,EAAEyB,mBAAc,IAAS0E,OAAE,EAAOA,EAAE+H,MAAKC,EAAEnO,IAAIoO,EAAEpO,GAAG,CAA2C,SAASqO,EAAErO,EAAEmG,EAAE0H,QAAG,IAASA,IAAIA,GAAE,GAAI,IAAIjI,EAAE5F,IAAI6N,EAAE7Q,OAAOsE,KAAKgN,IAAItO,GAAGuO,SAAQ,SAAUjO,GAAGuN,GAAG,iBAAiBvN,GAAG6F,EAAE7F,EAAEN,EAAEM,GAAGN,EAAG,IAAGA,EAAEuO,SAAQ,SAAUV,EAAEvN,GAAG,OAAO6F,EAAE7F,EAAEuN,EAAE7N,EAAG,GAAE,CAAC,SAAS4F,EAAE5F,GAAG,IAAImG,EAAEnG,EAAE+N,IAAG,OAAO5H,EAAEA,EAAEkI,EAAE,EAAElI,EAAEkI,EAAE,EAAElI,EAAEkI,EAAElO,MAAMxD,QAAQqD,GAAG,EAAEmO,EAAEnO,GAAG,EAAEoO,EAAEpO,GAAG,EAAE,CAAC,CAAC,SAASwO,EAAExO,EAAEmG,GAAG,OAAO,IAAIP,EAAE5F,GAAGA,EAAEyO,IAAItI,GAAGnJ,OAAOC,UAAUF,eAAeR,KAAKyD,EAAEmG,EAAE,CAA+C,SAASuI,EAAE1O,EAAEmG,EAAE0H,GAAG,IAAIvN,EAAEsF,EAAE5F,GAAG,IAAIM,EAAEN,EAAE2O,IAAIxI,EAAE0H,GAAG,IAAIvN,EAAEN,EAAE4O,IAAIf,GAAG7N,EAAEmG,GAAG0H,CAAC,CAAyD,SAASM,EAAEnO,GAAG,OAAO6O,GAAG7O,aAAa8O,GAAG,CAAC,SAASV,EAAEpO,GAAG,OAAO+O,IAAG/O,aAAagP,GAAG,CAAC,SAASC,EAAEjP,GAAG,OAAOA,EAAE4F,GAAG5F,EAAE6N,CAAC,CAAC,SAASqB,EAAElP,GAAG,GAAGG,MAAMxD,QAAQqD,GAAG,OAAOG,MAAMlD,UAAUkS,MAAM5S,KAAKyD,GAAG,IAAImG,EAAEiJ,GAAGpP,UAAUmG,EAAE4H,IAAG,IAAI,IAAIF,EAAES,GAAGnI,GAAG7F,EAAE,EAAEA,EAAEuN,EAAEvR,OAAOgE,IAAI,CAAC,IAAI+N,EAAER,EAAEvN,GAAGsF,EAAEO,EAAEkI,IAAG,IAAKzI,EAAEyJ,WAAWzJ,EAAEyJ,UAAS,EAAGzJ,EAAE0J,cAAa,IAAK1J,EAAEE,KAAKF,EAAE+I,OAAOxI,EAAEkI,GAAG,CAACiB,cAAa,EAAGD,UAAS,EAAGxJ,WAAWD,EAAEC,WAAW3I,MAAM8C,EAAEqO,IAAI,CAAC,OAAOrR,OAAOuS,OAAOvS,OAAOgR,eAAehO,GAAGmG,EAAE,CAAC,SAASV,EAAEzF,EAAEM,GAAG,YAAO,IAASA,IAAIA,GAAE,GAAIkP,EAAExP,IAAImG,EAAEnG,KAAK6N,EAAE7N,KAAK4F,EAAE5F,GAAG,IAAIA,EAAE2O,IAAI3O,EAAE4O,IAAI5O,EAAEyP,MAAMzP,EAAE0P,OAAOC,GAAG3S,OAAO4S,OAAO5P,GAAGM,GAAG+N,EAAErO,GAAE,SAAUA,EAAEmG,GAAG,OAAOV,EAAEU,GAAE,EAAI,IAAE,IAAKnG,CAAC,CAAC,SAAS2P,IAAI3P,EAAE,EAAE,CAAC,SAASwP,EAAExP,GAAG,OAAO,MAAMA,GAAG,iBAAiBA,GAAGhD,OAAO6S,SAAS7P,EAAE,CAAC,SAAS8P,EAAE3J,GAAG,IAAI0H,EAAEkC,GAAG5J,GAAG,OAAO0H,GAAG7N,EAAE,GAAGmG,GAAG0H,CAAC,CAAkC,SAASmC,IAAI,OAAmDC,CAAC,CAAC,SAASC,EAAElQ,EAAEmG,GAAGA,IAAI2J,EAAE,WAAW9P,EAAEwO,EAAE,GAAGxO,EAAEmO,EAAE,GAAGnO,EAAEoO,EAAEjI,EAAE,CAAC,SAASgK,EAAEnQ,GAAGQ,EAAER,GAAGA,EAAEiP,EAAEV,QAAQ6B,GAAGpQ,EAAEiP,EAAE,IAAI,CAAC,SAASzO,EAAER,GAAGA,IAAIiQ,IAAIA,EAAEjQ,EAAEkP,EAAE,CAAC,SAASmB,EAAErQ,GAAG,OAAOiQ,EAAE,CAAChB,EAAE,GAAGC,EAAEe,EAAEN,EAAE3P,EAAEsQ,GAAE,EAAGN,EAAE,EAAE,CAAC,SAASI,EAAEpQ,GAAG,IAAImG,EAAEnG,EAAE+N,IAAG,IAAI5H,EAAEkI,GAAG,IAAIlI,EAAEkI,EAAElI,EAAE+J,IAAI/J,EAAEgK,GAAE,CAAE,CAAC,SAASI,EAAEpK,EAAE7F,GAAGA,EAAE0P,EAAE1P,EAAE2O,EAAE3S,OAAO,IAAI+R,EAAE/N,EAAE2O,EAAE,GAAGrJ,OAAE,IAASO,GAAGA,IAAIkI,EAAE,OAAO/N,EAAEqP,EAAEnP,GAAGsP,EAAE,OAAOM,EAAE9P,EAAE6F,EAAEP,GAAGA,GAAGyI,EAAEN,IAAGwC,IAAIJ,EAAE7P,GAAGN,EAAE,IAAI6N,EAAE1H,KAAKA,EAAEqK,EAAElQ,EAAE6F,GAAG7F,EAAE4O,GAAGuB,EAAEnQ,EAAE6F,IAAI7F,EAAEkO,GAAGsB,EAAE,WAAWU,EAAEnC,EAAEN,IAAGF,EAAE1H,EAAE7F,EAAEkO,EAAElO,EAAE6N,IAAIhI,EAAEqK,EAAElQ,EAAE+N,EAAE,IAAI8B,EAAE7P,GAAGA,EAAEkO,GAAGlO,EAAE8N,EAAE9N,EAAEkO,EAAElO,EAAE6N,GAAGhI,IAAIuK,GAAEvK,OAAE,CAAM,CAAC,SAASqK,EAAExQ,EAAEmG,EAAE0H,GAAG,GAAG2B,EAAErJ,GAAG,OAAOA,EAAE,IAAI7F,EAAE6F,EAAE4H,IAAG,IAAIzN,EAAE,OAAO+N,EAAElI,GAAE,SAAUkI,EAAEzI,GAAG,OAAO+K,EAAE3Q,EAAEM,EAAE6F,EAAEkI,EAAEzI,EAAEiI,EAAG,IAAE,GAAI1H,EAAE,GAAG7F,EAAEqQ,IAAI3Q,EAAE,OAAOmG,EAAE,IAAI7F,EAAEiQ,EAAE,OAAOE,EAAEzQ,EAAEM,EAAEuN,GAAE,GAAIvN,EAAEuN,EAAE,IAAIvN,EAAEsQ,EAAE,CAACtQ,EAAEsQ,GAAE,EAAGtQ,EAAEqQ,EAAEX,IAAI,IAAIpK,EAAE,IAAItF,EAAE+N,GAAG,IAAI/N,EAAE+N,EAAE/N,EAAEsF,EAAEsJ,EAAE5O,EAAEuQ,GAAGvQ,EAAEsF,EAAE4I,EAAE5I,EAAEF,GAAE,EAAG,IAAIpF,EAAE+N,IAAIG,EAAE,IAAIQ,IAAIpJ,GAAGA,EAAE6J,QAAQ/J,GAAE,GAAI2I,EAAEG,GAAE,SAAUrI,EAAEkI,GAAG,OAAOsC,EAAE3Q,EAAEM,EAAEsF,EAAEO,EAAEkI,EAAER,EAAEnI,EAAG,IAAG+K,EAAEzQ,EAAE4F,GAAE,GAAIiI,GAAG7N,EAAEwO,GAAGsB,EAAE,WAAWgB,EAAExQ,EAAEuN,EAAE7N,EAAEwO,EAAExO,EAAEmO,EAAE,CAAC,OAAO7N,EAAEsF,CAAC,CAAC,SAAS+K,EAAErQ,EAAE+N,EAAEzI,EAAEF,EAAEqL,EAAE5C,EAAEC,GAAG,GAAoDjI,EAAE4K,GAAG,CAAC,IAAI9B,EAAEuB,EAAElQ,EAAEyQ,EAAE5C,GAAGE,GAAG,IAAIA,EAAEA,IAAIG,EAAEH,EAAE2C,EAAEtL,GAAGyI,EAAE8C,OAAOvL,QAAG,GAAQ,GAAGgJ,EAAE9I,EAAEF,EAAEuJ,IAAI9I,EAAE8I,GAAG,OAAO3O,EAAEgQ,GAAE,CAAE,MAAMlC,GAAGxI,EAAEgJ,IAAImC,GAAG,GAAGlD,EAAEkD,KAAKvB,EAAEuB,GAAG,CAAC,IAAIzQ,EAAEqP,EAAEuB,GAAG5Q,EAAE0P,EAAE,EAAE,OAAOQ,EAAElQ,EAAEyQ,GAAG1C,GAAGA,EAAEsC,EAAEzB,GAAGuB,EAAEnQ,EAAEyQ,EAAE,CAAC,CAAC,SAASN,EAAEzQ,EAAEmG,EAAE0H,QAAG,IAASA,IAAIA,GAAE,IAAK7N,EAAEkP,GAAGlP,EAAE2P,EAAEuB,GAAGlR,EAAEsQ,GAAG7K,EAAEU,EAAE0H,EAAE,CAAC,SAASsD,EAAEnR,EAAEmG,GAAG,IAAI0H,EAAE7N,EAAE+N,IAAG,OAAOF,EAAEoB,EAAEpB,GAAG7N,GAAGmG,EAAE,CAAC,SAASyK,EAAE5Q,EAAEmG,GAAG,GAAGA,KAAKnG,EAAE,IAAI,IAAI6N,EAAE7Q,OAAOgR,eAAehO,GAAG6N,GAAG,CAAC,IAAIvN,EAAEtD,OAAOoU,yBAAyBvD,EAAE1H,GAAG,GAAG7F,EAAE,OAAOA,EAAEuN,EAAE7Q,OAAOgR,eAAeH,EAAE,CAAC,CAAC,SAASgD,EAAE7Q,GAAGA,EAAEuQ,IAAIvQ,EAAEuQ,GAAE,EAAGvQ,EAAEkP,GAAG2B,EAAE7Q,EAAEkP,GAAG,CAAC,SAASmC,EAAErR,GAAGA,EAAE4F,IAAI5F,EAAE4F,EAAEsJ,EAAElP,EAAE6N,GAAG,CAAC,SAASiD,EAAE9Q,EAAEmG,EAAE0H,GAAG,IAAIvN,EAAE6N,EAAEhI,GAAG2J,EAAE,UAAUwB,EAAEnL,EAAE0H,GAAGO,EAAEjI,GAAG2J,EAAE,UAAUyB,EAAEpL,EAAE0H,GAAG7N,EAAEQ,EAAE,SAASR,EAAEmG,GAAG,IAAI0H,EAAE1N,MAAMxD,QAAQqD,GAAGM,EAAE,CAAC+N,EAAER,EAAE,EAAE,EAAE8C,EAAExK,EAAEA,EAAEwK,EAAEX,IAAIO,GAAE,EAAGK,GAAE,EAAGI,EAAE,CAAC,EAAE9B,EAAE/I,EAAE0H,EAAE7N,EAAE6Q,EAAE,KAAKjL,EAAE,KAAKsK,EAAE,KAAKsB,GAAE,GAAInD,EAAE/N,EAAEsF,EAAE6L,GAAG5D,IAAIQ,EAAE,CAAC/N,GAAGsF,EAAE8L,IAAI,IAAIlD,EAAEmD,MAAMC,UAAUvD,EAAEzI,GAAGF,EAAE8I,EAAEqD,OAAOnD,EAAEF,EAAEsD,MAAM,OAAOxR,EAAEuQ,EAAEnC,EAAEpO,EAAE4P,EAAExK,EAAEgJ,CAAC,CAA3M,CAA6MvI,EAAE0H,GAAGiC,EAAE,OAAOiC,EAAE5L,EAAE0H,GAAG,OAAOA,EAAEA,EAAE8C,EAAEX,KAAKf,EAAErR,KAAK0C,GAAGA,CAAC,CAAC,SAAS0Q,EAAE1Q,GAAG,OAAO6F,EAAE7F,IAAIN,EAAE,GAAGM,GAAG,SAASN,EAAEmG,GAAG,IAAI0H,EAAE1H,GAAG,OAAOA,EAAE,IAAI7F,EAAEkO,EAAErI,EAAE4H,IAAGgD,EAAEnL,EAAEO,GAAG,GAAGqI,EAAE,CAAC,IAAIA,EAAE+B,IAAI/B,EAAEH,EAAE,IAAIyB,EAAE,OAAOkC,EAAExD,IAAI,OAAOA,EAAEX,EAAEW,EAAEoC,GAAE,EAAGtQ,EAAE4Q,EAAE/K,EAAE4K,GAAGvC,EAAEoC,GAAE,CAAE,MAAMtQ,EAAE4Q,EAAE/K,EAAE4K,GAAG,OAAO1C,EAAE/N,GAAE,SAAU6F,EAAE0H,GAAGW,GAA55F,SAAWxO,EAAEmG,GAAG,OAAO,IAAIP,EAAE5F,GAAGA,EAAE8F,IAAIK,GAAGnG,EAAEmG,EAAE,CAAk3FT,CAAE8I,EAAEX,EAAE1H,KAAK0H,GAAGa,EAAEpO,EAAE6F,EAAEnG,EAAE6N,GAAI,IAAG,IAAIkD,EAAE,IAAI/B,IAAI1O,GAAGA,CAAC,CAAvN,CAAyNA,EAAE,CAAC,SAAS4Q,EAAElR,EAAEmG,GAAG,OAAOA,GAAG,KAAK,EAAE,OAAO,IAAI2I,IAAI9O,GAAG,KAAK,EAAE,OAAOG,MAAMyM,KAAK5M,GAAG,OAAOkP,EAAElP,EAAE,CAA8qO,IAAIiS,EAAEhC,EAAEiC,EAAE,oBAAoBlW,QAAQ,iBAAiBA,OAAO,KAAK6S,EAAE,oBAAoBC,IAAIC,GAAE,oBAAoBC,IAAImD,GAAE,oBAAoBR,YAAO,IAASA,MAAMC,WAAW,oBAAoBQ,QAAQ1B,GAAEwB,EAAElW,OAAOqW,IAAI,mBAAmBJ,EAAE,CAAC,GAAG,kBAAiB,EAAGA,GAAG/D,GAAEgE,EAAElW,OAAOqW,IAAI,mBAAmB,qBAAqBtE,GAAEmE,EAAElW,OAAOqW,IAAI,eAAe,iBAAy2DpE,IAAt1D,oBAAoBjS,QAAQA,OAAOsW,SAAqzD,GAAGtV,OAAOC,UAAUwE,aAAY6M,GAAG,oBAAoB8D,SAASA,QAAQG,QAAQH,QAAQG,aAAQ,IAASvV,OAAOwV,sBAAsB,SAASxS,GAAG,OAAOhD,OAAOyV,oBAAoBzS,GAAGiR,OAAOjU,OAAOwV,sBAAsBxS,GAAG,EAAEhD,OAAOyV,oBAAoBrD,GAAGpS,OAAO0V,2BAA2B,SAAS1S,GAAG,IAAImG,EAAE,CAAC,EAAE,OAAOmI,GAAGtO,GAAGuO,SAAQ,SAAUV,GAAG1H,EAAE0H,GAAG7Q,OAAOoU,yBAAyBpR,EAAE6N,EAAG,IAAG1H,CAAC,EAAE4J,GAAG,CAAC,EAAE0B,GAAG,CAAC3L,IAAI,SAAS9F,EAAEmG,GAAG,GAAGA,IAAI4H,GAAE,OAAO/N,EAAE,IAAIM,EAAE2O,EAAEjP,GAAG,IAAIwO,EAAElO,EAAE6F,GAAG,OAAO,SAASnG,EAAEmG,EAAE0H,GAAG,IAAIvN,EAAE+N,EAAEuC,EAAEzK,EAAE0H,GAAG,OAAOQ,EAAE,UAAUA,EAAEA,EAAEnR,MAAM,QAAQoD,EAAE+N,EAAEvI,WAAM,IAASxF,OAAE,EAAOA,EAAE/D,KAAKyD,EAAE6Q,QAAG,CAAM,CAAlH,CAAoH7Q,EAAEM,EAAE6F,GAAG,IAAIkI,EAAE/N,EAAE6F,GAAG,OAAOnG,EAAE4Q,IAAI/C,EAAEQ,GAAGA,EAAEA,IAAI8C,EAAEnR,EAAE6N,EAAE1H,IAAIkL,EAAErR,GAAGA,EAAE4F,EAAEO,GAAG2K,EAAE9Q,EAAE2Q,EAAEhB,EAAEtB,EAAErO,IAAIqO,CAAC,EAAEI,IAAI,SAASzO,EAAEmG,GAAG,OAAOA,KAAK8I,EAAEjP,EAAE,EAAEuS,QAAQ,SAASvS,GAAG,OAAOoS,QAAQG,QAAQtD,EAAEjP,GAAG,EAAE2O,IAAI,SAAS3O,EAAEmG,EAAE0H,GAAG,IAAIvN,EAAEsQ,EAAE3B,EAAEjP,GAAGmG,GAAG,GAAG,MAAM7F,OAAE,EAAOA,EAAEqO,IAAI,OAAOrO,EAAEqO,IAAIpS,KAAKyD,EAAE6Q,EAAEhD,IAAG,EAAG,IAAI7N,EAAEuQ,EAAE,CAAC,IAAIlC,EAAE8C,EAAElC,EAAEjP,GAAGmG,GAAGP,EAAE,MAAMyI,OAAE,EAAOA,EAAEN,IAAG,GAAGnI,GAAGA,EAAEiI,IAAIA,EAAE,OAAO7N,EAAE4F,EAAEO,GAAG0H,EAAE7N,EAAEgR,EAAE7K,IAAG,GAAG,EAAG,GAAjta,SAAWnG,EAAEmG,GAAG,OAAOnG,IAAImG,EAAE,IAAInG,GAAG,EAAEA,GAAG,EAAEmG,EAAEnG,GAAGA,GAAGmG,GAAGA,CAAC,CAA6pa4K,CAAElD,EAAEQ,UAAK,IAASR,GAAGW,EAAExO,EAAE6N,EAAE1H,IAAI,OAAM,EAAGkL,EAAErR,GAAG6Q,EAAE7Q,EAAE,CAAC,OAAOA,EAAE4F,EAAEO,KAAK0H,SAAI,IAASA,GAAG1H,KAAKnG,EAAE4F,IAAI+M,OAAOC,MAAM/E,IAAI8E,OAAOC,MAAM5S,EAAE4F,EAAEO,MAAMnG,EAAE4F,EAAEO,GAAG0H,EAAE7N,EAAEgR,EAAE7K,IAAG,IAAI,CAAE,EAAE0M,eAAe,SAAS7S,EAAEmG,GAAG,YAAO,IAASgL,EAAEnR,EAAE6N,EAAE1H,IAAIA,KAAKnG,EAAE6N,GAAG7N,EAAEgR,EAAE7K,IAAG,EAAGkL,EAAErR,GAAG6Q,EAAE7Q,WAAWA,EAAEgR,EAAE7K,GAAGnG,EAAE4F,UAAU5F,EAAE4F,EAAEO,IAAG,CAAE,EAAEiL,yBAAyB,SAASpR,EAAEmG,GAAG,IAAI0H,EAAEoB,EAAEjP,GAAGM,EAAE8R,QAAQhB,yBAAyBvD,EAAE1H,GAAG,OAAO7F,EAAE,CAAC+O,UAAS,EAAGC,aAAa,IAAItP,EAAEqO,GAAG,WAAWlI,EAAEN,WAAWvF,EAAEuF,WAAW3I,MAAM2Q,EAAE1H,IAAI7F,CAAC,EAAET,eAAe,WAAWG,EAAE,GAAG,EAAEgO,eAAe,SAAShO,GAAG,OAAOhD,OAAOgR,eAAehO,EAAE6N,EAAE,EAAEiF,eAAe,WAAW9S,EAAE,GAAG,GAAG0R,GAAG,CAAC,EAAErD,EAAEoD,IAAG,SAAUzR,EAAEmG,GAAGuL,GAAG1R,GAAG,WAAW,OAAOuC,UAAU,GAAGA,UAAU,GAAG,GAAG4D,EAAE3J,MAAMkG,KAAKH,UAAU,CAAE,IAAGmP,GAAGmB,eAAe,SAAS1M,EAAE0H,GAAG,OAAqE6D,GAAG/C,IAAIpS,KAAKmG,KAAKyD,EAAE0H,OAAE,EAAO,EAAE6D,GAAG/C,IAAI,SAASxI,EAAE0H,EAAEvN,GAAG,OAAmFmR,GAAG9C,IAAIpS,KAAKmG,KAAKyD,EAAE,GAAG0H,EAAEvN,EAAE6F,EAAE,GAAG,EAAE,IAAI4M,GAAG,WAAW,SAASzS,EAAE6F,GAAG,IAAI7F,EAAEoC,KAAKA,KAAKlC,EAAE2R,GAAEzP,KAAKwO,GAAE,EAAGxO,KAAKsQ,QAAQ,SAAS7M,EAAEkI,EAAEzI,GAAG,GAAG,mBAAmBO,GAAG,mBAAmBkI,EAAE,CAAC,IAAIG,EAAEH,EAAEA,EAAElI,EAAE,IAAIT,EAAEpF,EAAE,OAAO,SAASN,GAAG,IAAImG,EAAEzD,UAAK,IAAS1C,IAAIA,EAAEwO,GAAG,IAAI,IAAIX,EAAEtL,UAAUjG,OAAOgE,EAAEH,MAAM0N,EAAE,EAAEA,EAAE,EAAE,GAAGjI,EAAE,EAAEA,EAAEiI,EAAEjI,IAAItF,EAAEsF,EAAE,GAAGrD,UAAUqD,GAAG,OAAOF,EAAEsN,QAAQhT,GAAE,SAAUA,GAAG,IAAI6N,EAAE,OAAOA,EAAEQ,GAAG9R,KAAKC,MAAMqR,EAAE,CAAC1H,EAAEnG,GAAGiR,OAAO3Q,GAAI,GAAE,CAAC,CAAC,IAAIoO,EAAE,GAAG,mBAAmBL,GAAGrO,EAAE,QAAG,IAAS4F,GAAG,mBAAmBA,GAAG5F,EAAE,GAAG6N,EAAE1H,GAAG,CAAC,IAAI4K,EAAEV,EAAE/P,GAAG6N,EAAE2C,EAAExQ,EAAE6F,OAAE,GAAQiI,GAAE,EAAG,IAAIM,EAAEL,EAAEF,GAAGC,GAAE,CAAsB,CAAnB,QAAQA,EAAE+B,EAAEY,GAAGvQ,EAAEuQ,EAAE,CAAC,MAAM,oBAAoB7D,SAASwB,aAAaxB,QAAQwB,EAAEtB,MAAK,SAAUpN,GAAG,OAAOkQ,EAAEa,EAAEnL,GAAG2K,EAAEvQ,EAAE+Q,EAAG,IAAE,SAAU/Q,GAAG,MAAMmQ,EAAEY,GAAG/Q,CAAE,KAAIkQ,EAAEa,EAAEnL,GAAG2K,EAAE7B,EAAEqC,GAAG,CAAC,IAAI5K,GAAG,iBAAiBA,EAAE,CAAC,QAAG,KAAUuI,EAAEL,EAAElI,MAAMuI,EAAEvI,GAAGuI,IAAIgC,KAAIhC,OAAE,GAAQpO,EAAE4Q,GAAGzL,EAAEiJ,GAAE,GAAI9I,EAAE,CAAC,IAAIqJ,EAAE,GAAGC,EAAE,GAAGY,EAAE,WAAWU,EAAErK,EAAEuI,EAAEO,EAAEC,GAAGtJ,EAAEqJ,EAAEC,EAAE,CAAC,OAAOR,CAAC,CAAC1O,EAAE,GAAGmG,EAAE,EAAEzD,KAAKuQ,mBAAmB,SAASjT,EAAEmG,GAAG,GAAG,mBAAmBnG,EAAE,OAAO,SAASmG,GAAG,IAAI,IAAI0H,EAAEtL,UAAUjG,OAAO+R,EAAElO,MAAM0N,EAAE,EAAEA,EAAE,EAAE,GAAGjI,EAAE,EAAEA,EAAEiI,EAAEjI,IAAIyI,EAAEzI,EAAE,GAAGrD,UAAUqD,GAAG,OAAOtF,EAAE2S,mBAAmB9M,GAAE,SAAUA,GAAG,OAAOnG,EAAExD,WAAM,EAAO,CAAC2J,GAAG8K,OAAO5C,GAAI,GAAE,EAAE,IAAIR,EAAEQ,EAAEzI,EAAEtF,EAAE0S,QAAQhT,EAAEmG,GAAE,SAAUnG,EAAEmG,GAAG0H,EAAE7N,EAAEqO,EAAElI,CAAE,IAAG,MAAM,oBAAoB+G,SAAStH,aAAasH,QAAQtH,EAAEwH,MAAK,SAAUpN,GAAG,MAAM,CAACA,EAAE6N,EAAEQ,EAAG,IAAG,CAACzI,EAAEiI,EAAEQ,EAAE,EAAE,kBAAkB,MAAMlI,OAAE,EAAOA,EAAE+M,aAAaxQ,KAAKyQ,cAAchN,EAAE+M,YAAY,kBAAkB,MAAM/M,OAAE,EAAOA,EAAEiN,aAAa1Q,KAAK2Q,cAAclN,EAAEiN,WAAW,CAAC,IAAI/E,EAAE/N,EAAErD,UAAU,OAAOoR,EAAEiF,YAAY,SAAShT,GAAGuN,EAAEvN,IAAIN,EAAE,GAAGmG,EAAE7F,KAAKA,EAAE0Q,EAAE1Q,IAAI,IAAI+N,EAAEgC,EAAE3N,MAAMkD,EAAEkL,EAAEpO,KAAKpC,OAAE,GAAQ,OAAOsF,EAAEmI,IAAGyD,GAAE,EAAGhR,EAAE6N,GAAGzI,CAAC,EAAEyI,EAAEkF,YAAY,SAASpN,EAAE0H,GAAG,IAAiFQ,GAA3ElI,GAAGA,EAAE4H,KAA0E4C,EAAE,OAAOT,EAAE7B,EAAER,GAAG0C,OAAE,EAAOlC,EAAE,EAAEA,EAAEgF,cAAc,SAASrT,GAAG0C,KAAKwO,EAAElR,CAAC,EAAEqO,EAAE8E,cAAc,SAAShN,GAAGA,IAAIgM,IAAGnS,EAAE,IAAI0C,KAAKlC,EAAE2F,CAAC,EAAEkI,EAAEmF,aAAa,SAASxT,EAAE6N,GAAG,IAAIvN,EAAE,IAAIA,EAAEuN,EAAEvR,OAAO,EAAEgE,GAAG,EAAEA,IAAI,CAAC,IAAI+N,EAAER,EAAEvN,GAAG,GAAG,IAAI+N,EAAEoF,KAAKnX,QAAQ,YAAY+R,EAAEqF,GAAG,CAAC1T,EAAEqO,EAAEnR,MAAM,KAAK,CAAC,CAACoD,GAAG,IAAIuN,EAAEA,EAAEsB,MAAM7O,EAAE,IAAI,IAAIsF,EAAEkK,EAAE,WAAW6D,EAAE,OAAOxN,EAAEnG,GAAG4F,EAAE5F,EAAE6N,GAAGnL,KAAKsQ,QAAQhT,GAAE,SAAUA,GAAG,OAAO4F,EAAE5F,EAAE6N,EAAG,GAAE,EAAEvN,CAAC,CAAj7D,GAAq7DsT,GAAG,IAAIb,GAAGc,GAAGD,GAAGZ,QAAWY,GAAGX,mBAAmBa,KAAKF,IAAOA,GAAGP,cAAcS,KAAKF,IAAOA,GAAGT,cAAcW,KAAKF,IAAOA,GAAGJ,aAAaM,KAAKF,IAAOA,GAAGN,YAAYQ,KAAKF,IAAOA,GAAGL,YAAYO,KAAKF,IAAI,aCSpijB,UAEJG,IACEC,EAAAA,YAMEC,GAAuB,CAC3B,CAAEC,MAAO,MAAOhX,MAAOgM,EAAeC,Q,yBCKjC,MAAMgL,GAAe,CAG1B1H,UAAW,gCACX2H,gBAAiB,GACjBC,gBAAiB,GACjBC,eAAgB,IC9BlB,mB,sGAWO,MAAMC,WAAuBC,EAAAA,cA8BlCC,SACE,MAAMpI,EAAQ5I,KAASf,KAAKmB,MAAMwI,MAAO8H,IAEzC,OACE,kBAACO,MAAAA,KACC,kBAACC,EAAAA,WAAUA,CACTC,OAAQ,QACRC,SAAS,MACT3X,MAAOmP,EAAMI,UACbqI,iBAAkBpS,KAAKoS,iBACvBC,OAAQrS,KAAKsS,mBACbC,OAAQvS,KAAKsS,qBAIrB,C,mCA1CAE,YAAc,CAACvX,EAA0BT,KACvC,MAAM,MAAEmP,EAAK,SAAE8I,GAAazS,KAAKmB,M,QACjCsR,G,yUAAS,IAAK9I,G,WAAAA,CAAO,CAAC1O,GAAMT,I,mVAK7B,KACDkY,gBAAmBzX,GAA8B0X,IAC/C3S,KAAKwS,YAAYvX,EAAK0X,EAAM7I,OAAOtP,MAAM,E,KAG3C4X,iBAAoBQ,IAClB5S,KAAK4S,OAASA,CAAM,EAKrB,KACDN,mBAAqB,KACdtS,KAAK4S,SAGV5S,KAAKwS,YAAY,YAAaxS,KAAK4S,OAAO5U,YAC1CgC,KAAKmB,MAAM0R,aAAY,C,ECpCpB,SAASC,GAAqBtY,GACnC,MAAO,CACLgX,MAAOxW,OAAOR,GACdA,QAEJ,CCSO,MAAMuY,GAAwB5R,IACnC,MAAM,YAAE6R,EAAW,SAAEP,GAAatR,EAElC,OACE,kBAAC8R,EAAAA,aAAYA,CACXC,YAAY,IACZF,YAAaA,EACbP,SAAUA,G,ECZHU,GAAqBhS,IAEhC,MAAM,SAAEyC,EAAQ,SAAEwP,GAAajS,EAc/B,OACE,oCACE,kBAACkS,EAAAA,QAAOA,CACNC,aAAAA,EACAC,QAhBe,IAEjB,kBAACC,EAAAA,OAAMA,CACLC,QAASL,EACTM,QAAQ,cACRC,KAAK,MACN,UAeCC,UAAU,gBAEV,kBAACC,OAAAA,KACEjQ,IAAAA,E,eChBX,MAqBMkQ,GAGJ,CACE,CACEtC,MAAO,QACPzK,QAAS,CACP,CACEyK,MAAO,QACPhX,MAAO,CAAE8D,KAAM,YAIrB,CACEkT,MAAO,YACPzK,QAxBqB,CAFC,MAAO,MAAO,MAAO,MAAO,QAEL,YAwBjB2B,KAAKyI,IAAQ,CACvCK,MAAOL,EACP3W,MAAO,CAAE8D,KAAM,WAAYuK,KAAMsI,QAGrC,CACEK,MAAO,OACPzK,QA3CqB,CAAC,IAAK,IAAK,IAAK,KA2CT2B,KAAKsI,IAAQ,CACvCQ,MAAOR,EACPxW,MAAO,CAAE8D,KAAM,WAAYuK,KAAMmI,EAAI+C,MAAO,aAWvCC,GAAgB7S,IAC3B,MAAM,gBAAE8S,EAAe,cAAEC,EAAa,eAAEC,GAAmBhT,E,IAE5C8S,EAAf,MAAMG,EAA+B,QAAtBH,EAAAA,EAAgBG,cAAhBH,IAAAA,EAAAA,EAA0B,GACnCI,EAAQJ,EAAgBI,MAExBC,GAASC,EAAAA,EAAAA,YAAWC,IAsBpBC,EAAqBC,GAClB,KACL,MAAMC,EAAYP,EAAOQ,QAAO,CAACtH,EAAG3B,IAAMA,IAAM+I,IAChDP,EAAeQ,EAAU,EAIvBE,EAAuBH,GACnBI,IACN,MAAMH,EAAYrE,GAAQ8D,GAASW,IACjCA,EAAML,GAAYI,EAAOta,KAAK,IAEhC2Z,EAAeQ,EAAU,EA2B7B,OACE,oCAEGP,EAAO1L,KAAI,CAACsM,EAAOpM,KAClB,yBAACqM,IAAAA,SAAc,CAACha,IAAK+Z,EAAMnM,KAAOmM,EAAMjB,YACtBxY,IAAhByZ,EAAMjB,MACJ,oCACE,kBAACZ,GAAiBA,CAACC,SAAUqB,EAAkB7L,IAC7C,kBAACqK,EAAAA,aAAYA,CACXzY,MAAO,GAAGwa,EAAMnM,OAAsB,aAAfmM,EAAM1W,KAAsB,OAAS,KAC5D0U,YAAa,IAAMxI,QAAQ0K,QAAQpB,IACnCrB,SAAUoC,EAAoBjM,OAKpC,oCACE,kBAACuK,GAAiBA,CAACC,SAAUqB,EAAkB7L,IAC7C,kBAACqK,EAAAA,aAAYA,CACXzY,MAAOwa,EAAMnM,KACbmK,YAAa,IAAMxI,QAAQ0K,QAAQpB,IACnCrB,SAAUoC,EAAoBjM,MAGlC,kBAACuM,EAAAA,aAAYA,CACX3a,MAAOwa,EAAMjB,MACbtB,UAjDkBiC,EAiDe9L,EAhDrCwM,IACN,MAAMT,EAAYrE,GAAQ8D,GAASW,IACjCA,EAAML,GAAUX,MAAQ/Y,OAAOoa,EAAK,IAEtCjB,EAAeQ,EAAU,OALE,IAACD,CAoDvB,IAKJL,GACC,oCAEE,kBAAClB,GAAiBA,CAACC,SA1FD,KACxBc,OAAc3Y,EAAU,GA0FhB,kBAAC8Z,EAAAA,YAAWA,CAACC,MAAO,OAAQC,UAAWjB,EAAOkB,aAAa,OAI7D,kBAACL,EAAAA,aAAYA,CACX3a,MAAO6Z,EACP5B,SA7FiB2C,IACzBlB,EAAclZ,OAAOoa,GAAM,KAiGzB,kBAACrC,GAAUA,CACTC,YAAa,IAAMxI,QAAQ0K,QAAQpB,IACnCrB,SA/DiBqC,IACrB,MAAMW,EAAWX,EAAOta,MAhCH,IAACwa,EAkCf,UADCS,EAASnX,KA9CjB4V,EAAc,UAaQc,EAsCHS,EArCnBtB,EAAe,IAAIC,EAAQY,IAuC3B,I,EA8DJ,SAASR,GAAUkB,GACjB,MAAO,CACLF,YAAaG,GAAAA,GAAG;eACLD,EAAME,OAAOC,QAAQT;QAGpC,CCnNA,2B,8ZAgCO,MAAMU,GAAiB3U,IAE5B,MAAQuQ,gBAAiBqE,EAAgB,WAAE/L,EAAU,iBAAEgM,EAAgB,mBAAEC,GAAuB9U,EAO1F+U,G,EAA8B,gB,IAIqBC,EAAvD,MAAMzE,EAAkBqE,EAAiBrN,KAAKyN,GAAmB,QAAVA,EAAAA,EAAK9B,aAAL8B,IAAAA,EAAAA,EAAcA,EAAKC,SAE1E,aAAcH,KACXvN,KAAKJ,GAAWA,EAAOO,OACvB+L,QAAQwB,IAAY,CAACpM,KAAe0H,GAAiB2E,SAASD,KAC9D1N,KAAK0N,GAAWtD,GAAkBsD,IACvC,I,4CAVoC,I,EAYpC,MAAME,EAAmBxB,IACvB,MAAMyB,EAAsB,IAAIR,EAAkB,CAAEK,OAAQtB,EAAOta,QACnEwb,EAAiB,kBAAmBO,EAAoB,EAepDC,EAAwB5N,GACpBkM,IACN,MAAMyB,EAAsBR,EAAiBrN,KAAI,CAACyN,EAAMxK,KACtDA,WAAM/C,G,yUACF,IAAKuN,G,WAAAA,CAAMC,OAAQtB,EAAOta,Q,iVAC1B2b,E,OAAI,IAEVH,EAAiB,kBAAmBO,EAAoB,EAItDE,EAA8B7N,GAC3B,KACL,MAAM2N,EAAsBR,EAAiBnB,QAAO,CAACtH,EAAG3B,IAAMA,IAAM/C,IACpEoN,EAAiB,kBAAmBO,EAAoB,EActDG,EAAuBC,GACnBC,IACNZ,EAAiB,kBAAmB1F,GAAQyF,GAAmBhB,IAC7DA,EAAM4B,GAAStC,MAAQuC,CAAQ,IAC9B,EAQDC,EAAkC,IAAId,EAFxB,CAAEK,OAAQ,KAI9B,OACE,oCACGS,EAAgCnO,KAAI,CAACyN,EAAMvN,KAC1C,yBAACkO,EAAAA,eAAcA,CAACtF,MAAe,IAAR5I,EAAY,SAAW,GAAImO,MAAM,EAAM9b,IAAKkb,EAAKC,QACrExN,IAAQiO,EAAgCjd,OAAS,EAChD,oCACE,kBAACmZ,GAAUA,CACTC,YAAakD,EACbzD,SAAU6D,KAId,oCAEE,kBAACnD,GAAiBA,CAACC,SAAUqD,EAA2B7N,IACtD,kBAACqK,EAAAA,aAAYA,CACXzY,MAAO2b,EAAKC,OACZ3D,SAAU+D,EAAqB5N,GAC/BoK,aArEmBgE,EAqEoBb,EAAKC,OApEnD,gBACL,MAAO,CAACtD,GAAkBkE,YAAoBd,IAChD,QAsEU,kBAAClC,GAAYA,CACXC,gBAAiBkC,EACjBhC,gBA9CgBwC,EA8CqB/N,EA7CzC+L,IACNqB,EAAiB,kBAAmB1F,GAAQyF,GAAmBhB,IAC7DA,EAAM4B,GAASvC,OAASO,CAAS,IAChC,GA2COT,cAAewC,EAAoB9N,OA/CpB,IAAC+N,EA7BKK,CA+E1B,MC/HLC,GAAY,CAAC,IAAK,KAAM,IAAK,IAAK,KAAM,MAMxCC,GAAa,CAAC,MAAO,MASrBC,GAAmC,CAAC,gBAAiBF,GAAU,GAAI,QAAS,OAQrEG,GAAgBjW,IAE3B,MAAM,gBAAEwQ,EAAe,qBAAE0F,EAAoB,iBAAErB,GAAqB7U,EAE9DmW,EAAsBxC,IAC1B,MAAMyC,EAAqB,IAAI5F,EAAiB,CAACmD,EAAOta,MAAQ2c,GAAiB,GAAIA,GAAiB,GAAIA,GAAiB,KAC3HnB,EAAiB,kBAAmBuB,EAAmB,EAGnDC,EAAsB5O,GAClBkM,IACN,MAAMyC,EAAqB5F,EAAgBjJ,KAAI,CAAC+O,EAAW9L,IAClDA,IAAM/C,EACT,CAACkM,EAAOta,MAAQid,EAAU,GAAIA,EAAU,GAAIA,EAAU,IACtDA,IAGNzB,EAAiB,kBAAmBuB,EAAmB,EAIrDG,EAAwB9O,GACpBkM,IACN,MAAMyC,EAAqB5F,EAAgBjJ,KAAI,CAAC+O,EAAW9L,IACzDA,IAAM/C,EACF,CAAC6O,EAAU,GAAI3C,EAAOta,MAAQid,EAAU,GAAIA,EAAU,IACtDA,IAENzB,EAAiB,kBAAmBuB,EAAmB,EAIrDI,EAAqB/O,GACjBgP,IACN,MAAML,EAAqB,IAAI5F,GAAiBjJ,KAAI,CAAC+O,EAAW9L,IAC9DA,IAAM/C,EACF,CAAC6O,EAAU,GAAIA,EAAU,GAAIG,EAASH,EAAU,IAChDA,IAENzB,EAAiB,kBAAmBuB,EAAmB,EAIrDM,EAAyBjP,GACrBgP,IACN,MAAML,EAAqB,IAAI5F,GAAiBjJ,KAAI,CAAC+O,EAAW9L,IAC9DA,IAAM/C,EACF,CAAC6O,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIG,EAAOpd,OAClDid,IAENzB,EAAiB,kBAAmBuB,EAAmB,EAIrDO,EAA8BlP,GAC3B,KACL,MAAM2O,EAAqB,IAAI5F,GAAiBiD,QAAO,CAACtH,EAAG3B,IAAMA,IAAM/C,IACvEoN,EAAiB,kBAAmBuB,EAAmB,EAKrDQ,EAAmD,IAAIpG,EAAiBwF,IAG9E,OACE,oCACGY,EAA+BrP,KAAI,CAAC+O,EAAW7O,KAC9C,MAAOwN,EAAQpF,EAAIxW,EAAOwd,GAAaP,EACvC,OACE,kBAACX,EAAAA,eAAcA,CAACtF,MAAe,IAAR5I,EAAY,QAAU,GAAImO,MAAM,EAAM9b,IAAKwc,EAAUtb,WAAayM,GACtFA,IAAQmP,EAA+Bne,OAAS,EAC/C,oCACE,kBAACmZ,GAAUA,CACTN,SAAU6E,EACVtE,YAAaqE,KAIjB,oCAEE,kBAAClE,GAAiBA,CAACC,SAAU0E,EAA2BlP,IACtD,kBAACqK,EAAAA,aAAYA,CACXzY,MAAOsY,GAAkBsD,GACzBpD,YAAaqE,EACb5E,SAAU+E,EAAmB5O,MAIjC,kBAACqP,EAAAA,QAAOA,CACNzd,MAAOsY,GAAkB9B,GACzBjK,QAASkQ,GAAUvO,IAAIoK,IACvBL,SAAUiF,EAAqB9O,GAC/BsP,cAAe,KAGjB,kBAAC/C,EAAAA,aAAYA,CACX3a,MAAOA,EACP0Y,YAAa,QACbT,SAAUkF,EAAkB/O,KAI5BA,EAAMmP,EAA+Bne,OAAS,GAC5C,kBAACqe,EAAAA,QAAOA,CACNzd,MAAOsY,GAAkBkF,GACzBjR,QAASmQ,GAAWxO,IAAIoK,IACxBL,SAAUoF,EAAsBjP,MAKzC,IAGP,ECvJN,2B,qSAiBO,MAAMuP,GAAkBhX,IAC7B,MAAM,eAAEyQ,EAAc,iBAAEoE,EAAgB,iBAAED,EAAgB,WAAE/L,GAAe7I,EAErEiX,EAA2B,KAE/B,MAAM1G,EAAkBqE,EACrBrN,KAAKyN,GAASA,EAAKC,SAGtB,OACEpM,EACI,IAAI0H,EAAiB1H,GACrB0H,GAEHkD,QAAOyD,IAAQzG,EAAeyE,SAASgC,KACvC3P,KAAK2P,GAAQvF,GAAkBuF,IAAK,EAInC/B,EAAmBxB,IACvB,MAAMwD,EAAqB,IAAI1G,EAAgBkD,EAAOta,OACtDwb,EAAiB,iBAAkBsC,EAAmB,EAGlD9B,EAAwB5N,GACpBkM,IACN,MAAMwD,EAAqB1G,EAAelJ,KAAI,CAAC2P,EAAK1M,IAClDA,IAAM/C,EACFkM,EAAOta,MACP6d,IAENrC,EAAiB,iBAAkBsC,EAAmB,EAIpDC,EAAsB3P,GACnB,KACL,MAAM0P,EAAqB1G,EAAegD,QAAO,CAACtH,EAAG3B,IAAMA,IAAM/C,IACjEoN,EAAiB,iBAAkBsC,EAAmB,EAIpDE,EAAgC,IAAI5G,EAAgB,IAE1D,OACE,kBAACkF,EAAAA,eAAcA,CAACtF,MAAM,WAAWuF,MAAM,GACpCyB,EAA8B9P,KAAI,CAAC2P,EAAKzP,IACvCA,IAAQ4P,EAA8B5e,OAAS,EAC7C,oCACE,kBAACmZ,GAAUA,CACT9X,IAAK2N,EACLoK,YAAa,gBAAYoF,OAAAA,G,IACzB3F,SAAU6D,KAId,oCACE,kBAACnD,GAAiBA,CAACC,SAAUmF,EAAmB3P,IAC9C,kBAACqP,EAAAA,QAAOA,CACNhd,IAAK2N,EACLpO,MAAOsY,GAAkBuF,GACzBtR,QAAS,IAAIqR,IAA4BtF,GAAkBuF,IAC3D5F,SAAU+D,EAAqB5N,SAItC,ECnFT,2B,+FAkBO,MAAM6P,GAA2BtX,IAEtC,MAAM,UAAEuX,EAAS,WAAE1O,EAAU,iBAAEgM,EAAgB,mBAAEC,GAAuB9U,EAElEmT,GAASC,EAAAA,EAAAA,YAAWC,IAMpBmE,G,qMAAwB,cAK5B,aAJ4B1C,KAEzBrB,QAAQyD,IAAQO,OfIkBC,EeJOR,EAAIvP,UfK3CnC,EAAsBkS,KeLoCjS,EAAAA,UAAAA,KfI5D,IAAkCiS,CeJwC,IAC1EnQ,KAAK2P,GAAQA,EAAIxP,OACDH,IAAIoK,GACzB,I,4CAN8B,I,EAU9B,MAAMgG,GAAeC,EAAAA,EAAAA,UAoBrB,OAlBAC,EAAAA,EAAAA,YAAU,KAEJF,EAAaG,UAAYP,IAE3BI,EAAaG,QAAUP,EAEvBzC,IAAqBvL,MAAMrC,IACzB,MAAM6Q,EAAkB7Q,EACrB8Q,MAAMd,GAA8B,eAAtBA,EAAIhP,gBAGrB2M,EAAiB,aAAckD,aAAAA,EAAAA,EAAiBrQ,KAAK,IAGzD,GAEC,CAACmN,EAAkB0C,EAAW1O,EAAYiM,IAEtC,oCACL,kBAACZ,EAAAA,YAAWA,CAACC,MAAO,OAAQC,UAAWjB,EAAOkB,aAAa,eAG3D,kBAACvC,EAAAA,aAAYA,CACXzY,MAAOwP,QAAAA,EAAc,qBACrByI,SAxC4BqC,IAC9BkB,EAAiB,aAAclB,EAAOta,MAAM,EAwC1CwY,YAAa2F,I,EAKnB,SAASnE,GAAUkB,GACjB,MAAO,CACLF,YAAaG,GAAAA,GAAG;iBACHD,EAAME,OAAOC,QAAQT;QAGtC,CC5EA,2B,0lCAcO,MAAMgE,GAAqBjY,IAEhC,MAAM,WAAEkY,EAAY1P,MAAO2P,EAAQ,SAAE7G,EAAQ,WAAEI,GAAe1R,GACxD,OAAEoJ,GAAW8O,EAEb1P,EAAQ,MACT8H,GACA6H,IAEC,UAAEZ,EAAS,WAAE1O,EAAU,gBAAE0H,EAAe,gBAAEC,EAAe,eAAEC,GAAmBjI,EAc9EqM,EAAmB,CAAgC/a,EAAQT,KAC/D,MAAM+e,EAAW,SAAK5P,GAAAA,CAAO,CAAC1O,GAAMT,IACpCiY,EAAS8G,GARW,CAACA,IACrB,MAAMC,EC4CH,SAAoB7P,EAAsB0P,GAC/C,GAAI1P,EAAM8P,WACR,OAAO9P,EAAMI,UAEf,MAAM,UAAE2O,EAAS,WAAE1O,EAAU,gBAAE0H,EAAe,gBAAEC,EAAe,eAAEC,GAAmBjI,EAEpF,IAAII,EAAY,GAxEX,IAAiCgM,EA4EtChM,GAAa,UA5EyBgM,EA2EWrE,GA1E5CqE,aAAAA,EAAAA,EAAkBnc,QAIhBmc,EAAiBrN,KAAKyN,I,IAGvBA,EAFJ,IAAIuD,EAAM,GAAGvD,EAAKC,SAuBlB,OArBe,QAAXD,EAAAA,EAAK/B,cAAL+B,IAAAA,OAAAA,EAAAA,EAAavc,UACf8f,EAAMvD,EAAK/B,OAAOuF,QAAO,CAACC,EAAM5E,EAAOpM,EAAKwL,KAC1C,OAAQY,EAAM1W,MACZ,IAAK,WACH,MAAO,GAAG0W,EAAMnM,QAAQ+Q,KAC1B,IAAK,W,IAEIxF,EAAP,MAAiC,cAAX,QAAfA,EAAAA,EAAOxL,EAAM,UAAbwL,IAAAA,OAAAA,EAAAA,EAAiB9V,MACpB,GAAGsb,KAAQ5E,EAAMnM,QAAQmM,EAAMjB,QAC/B,IAAI6F,KAAQ5E,EAAMnM,QAAQmM,EAAMjB,SACtC,QAEE,OADA8F,QAAQC,IAAI,kCAAmC9E,GACxC4E,EACX,GACCF,IAGDvD,EAAK9B,QACPqF,GAAO,OAAOvD,EAAK9B,SAGdqF,CAAG,IAETtO,KAAK,MA7BC,KAyE2DpB,EAAa,IAAG0H,aAAAA,EAAAA,EAAiB9X,QAAS,KAAO,KAAKoQ,IAAe,QAKzID,GAAa,QADQ2O,OAIrB,IAAIqB,EAjDC,SACLpI,EACAqI,EAAuB,MAGvB,OAAKrI,EAIEA,EAAgBjJ,KAAI,CAAC+O,EAAW7O,IACrCA,IAAQ+I,EAAgB/X,OAAS,EAC7B6d,EAAUhL,MAAM,GAAI,GAAGrB,KAAK,KAC5BqM,EAAUrM,KAAK,OACnBA,KAAK4O,GAPE,EAQX,CAmCmBC,CAAuBtI,GAexC,OAbAoI,EA/BK,SAAkCA,EAAoB/P,GAC3D,OAAKA,EAID+P,EAAWngB,OAAS,EACf,sBAA6BmgB,KAE7B,gBANAA,CAQX,CAqBeG,CAAyBH,EAAY/P,GAKlDD,IAHcgQ,EAAWngB,OAAS,EAC9B,SAASmgB,IACT,IACS,KAMbhQ,KAHiB6H,aAAAA,EAAAA,EAAgBhY,QAC7B,YAAYgY,EAAexG,KAAK,QAChC,IACS,KAENrB,CACT,CD7EmBoQ,CAAWZ,GAC1B9G,EAAS,SAAK8G,GAAAA,CAAUxP,UAAWyP,KACnC3G,GAAY,EAMZuH,CAAcb,EAAS,EAenBc,GAAeC,EAAAA,EAAAA,UAAQ,IACpB/P,EAAOgQ,cACb,CAAChQ,IAEEiQ,G,EAAuB,gBAE3B,aADqBH,GACP3R,IAAIoK,GACpB,I,4CAH6B,I,EAK7B,MAAM2H,GAAkBH,EAAAA,EAAAA,UAAQ,IACvB5B,EAAYnO,EAAOhB,yBAAyBmP,GAAalO,QAAQ0K,QAAQ,KAC/E,CAAC3K,EAAQmO,IAENgC,EAAyB,W,MAAA,gBAC7B,aAAaD,CACf,I,kDAF+B,GAIzBE,GAAiBL,EAAAA,EAAAA,SAAQ,gBAE7B,aADsBG,GACP/R,KAAK0N,GAAWA,EAAOvN,MACxC,IAAG,CAAC4R,IAEJ,OACE,oCACE,kBAACzI,MAAAA,KACC,kBAAC8E,EAAAA,eAAcA,CAACtF,MAAM,OAAOuF,MAAM,GACjC,kBAAC9D,EAAAA,aAAYA,CACXzY,MAAOke,QAAAA,EAAa,eACpBjG,SAxCqBqC,IAC7BkB,EAAiB,YAAalB,EAAOta,MAAM,EAwCnCwY,YAAawH,IAEf,kBAAC/B,GAAuBA,CACtBC,UAAWA,EACX1O,WAAYA,EACZgM,iBAAkBA,EAClBC,mBAAoByE,KAIxB,kBAAC5E,GAAaA,CACZpE,gBAAiBA,EACjB1H,WAAYA,EACZgM,iBAAkBA,EAClBC,mBAAoByE,IAGtB,kBAACtD,GAAYA,CACXzF,gBAAiBA,EACjB0F,qBAAsB,gBAAY,aAAOsD,GAAgBjS,IAAIoK,G,IAC7DkD,iBAAkBA,IAGpB,kBAACmC,GAAcA,CACbvG,eAAgBA,EAChBmE,iBAAkBrE,EAClB1H,WAAYA,EACZgM,iBAAkBA,K,EEpGf4E,GAA0B,EAAGnB,aAAYoB,oBACpD,MAAOC,EAAaC,IAAgBC,EAAAA,EAAAA,WAAS,GAO7C,OALAhC,EAAAA,EAAAA,YAAU,KAER+B,GAAa,EAAM,GAClB,CAACtB,IAGF,oCACGA,EACC,oCACE,kBAACjG,EAAAA,OAAMA,CACLyH,aAAW,0BACXC,KAAK,MACLxH,QAAQ,YACRpV,KAAK,SACLmV,QAAS,KAEPsH,GAAa,EAAK,IAGtB,kBAACI,EAAAA,aAAYA,CACXC,OAAQN,EACRO,MAAM,+BACNC,KAAK,kGACLC,YAAY,6BACZC,YAAY,6BACZC,UAAW,KACTZ,GAAc,EAAM,EAEtBa,UAAW,KACTX,GAAa,EAAM,KAKzB,kBAACvH,EAAAA,OAAMA,CACLyH,aAAW,wBACXC,KAAK,MACLxH,QAAQ,YACRpV,KAAK,SACLmV,QAAS,KACPoH,GAAc,EAAK,IAGxB,ECzDP,mB,yTAWO,MAAMc,GAAexa,IAE1B,MAAM,MAAEwI,EAAK,SAAE8I,EAAQ,WAAEI,GAAe1R,GAClC,WAAEsY,GAAe9P,EACvB,OACE,oCACE,kBAACqI,MAAAA,CAAIuD,WAAWI,EAAAA,GAAAA,KAAI,CAAEiG,QAAS,UAC7B,kBAAC5J,MAAAA,CAAIuD,WAAWI,EAAAA,GAAAA,KAAI,CAAEkG,SAAU,KAC7BpC,EAAa,kBAAC5H,GAAcA,GAAAA,CAAAA,EAAK1Q,IAAY,kBAACiY,GAAiBA,GAAAA,CAAAA,EAAKjY,KAEvE,kBAACyZ,GAAuBA,CACtBnB,WAAYA,SAAAA,EACZoB,cAAgBiB,I,QACdrJ,G,yUAAS,IAAK9I,G,WAAAA,CAAO8P,WAAYqC,I,kVACjCjJ,GAAY,K,EClBXkJ,GAAqD5a,GACzD,kBAAC6Q,MAAAA,KAAI,eCRd,c,qMAUO,MCJMgK,GAAS,IAAIC,EAAAA,iBAAmExS,GAC1FyS,iBjBkB0D/a,IAC3D,MAAM,QAAE4F,EAAO,gBAAEoV,GAAoBhb,GAC/B,SACJ8J,GAEElE,EAGEqV,EAAiB,CAAwCnhB,EAAQT,KACrE2hB,EACE7L,GAAQvJ,GAAUsV,IAChBA,EAAIpR,SAAShQ,GAAOT,CAAK,IAC3B,E,IA8EeyQ,EA3CnB,OACE,kBAAC+G,MAAAA,KAEC,kBAACsK,KAAAA,CAAG/G,UAAU,gBAAe,kBAC7B,kBAACvD,MAAAA,CAAIuD,UAAU,iBACb,kBAACgH,EAAAA,OAAMA,CACLjH,MAAO,GACP9a,MAAOyQ,EAASC,cAChBsR,aAAcjL,GAAqB,GACnCxK,QAASwK,GACTkB,SAAW4J,GAAQD,EAAe,gBAAiBC,EAAI7hB,UAI3D,kBAACiiB,EAAAA,uBAAsBA,CACrBC,iBAAkB3V,EAClB4V,WAAW,wBACXlK,SAAU0J,EACVS,mBAAmB,IAIrB,kBAACC,EAAAA,MAAKA,CAACC,SAAS,OAAOzB,MAAM,mBAC3B,kBAAC9O,IAAAA,KAAE,oFAED,kBAACwQ,KAAAA,MAAK,qEAEN,kBAACA,KAAAA,MACD,kBAAC1V,OAAAA,KAAK,gDACN,kBAAC0V,KAAAA,MACD,kBAACA,KAAAA,MAAK,4GAIV,kBAAC/K,MAAAA,CAAIuD,UAAU,iBACb,kBAAC+G,KAAAA,CAAG/G,UAAU,gBAAe,sBAC7B,kBAACvD,MAAAA,CAAIuD,UAAU,kBACb,kBAACvD,MAAAA,CAAIuD,UAAU,WACb,kBAAClE,GAAAA,CACCG,MAAM,WACNwL,WAAY,EACZC,WAAY,GACZxK,UAA0B,WAhEyBE,IAC7DyJ,EA+DoC,WA/DhBzJ,EAAM7I,OAAOtP,MAAM,GAgE7BA,MAAwB,QAAjByQ,EAAAA,EAASlD,gBAATkD,IAAAA,EAAAA,EA5FI,c,IiBftBiS,gBDEyD/b,IAC1D,OAAQA,EAAMkY,WAAWnO,eACvB,KAAK1E,EAAeC,MAClB,OAAO,kBAAC0W,GAAgBA,GAAAA,CAAAA,EAAKhc,IAC/B,KAAKqF,EAAeE,OAClB,OAAO,kBAACqV,GAAiBA,GAAAA,CAAAA,EAAK5a,IAEhC,QACE,OAAO,kBAACgc,GAAgBA,GAAAA,CAAAA,EAAKhc,IACjC,G","sources":["webpack:///../node_modules/lodash/_Symbol.js","webpack:///../node_modules/lodash/_apply.js","webpack:///../node_modules/lodash/_arrayLikeKeys.js","webpack:///../node_modules/lodash/_baseGetTag.js","webpack:///../node_modules/lodash/_baseIsArguments.js","webpack:///../node_modules/lodash/_baseIsNative.js","webpack:///../node_modules/lodash/_baseIsTypedArray.js","webpack:///../node_modules/lodash/_baseKeysIn.js","webpack:///../node_modules/lodash/_baseRest.js","webpack:///../node_modules/lodash/_baseSetToString.js","webpack:///../node_modules/lodash/_baseTimes.js","webpack:///../node_modules/lodash/_baseUnary.js","webpack:///../node_modules/lodash/_coreJsData.js","webpack:///../node_modules/lodash/_defineProperty.js","webpack:///../node_modules/lodash/_freeGlobal.js","webpack:///../node_modules/lodash/_getNative.js","webpack:///../node_modules/lodash/_getRawTag.js","webpack:///../node_modules/lodash/_getValue.js","webpack:///../node_modules/lodash/_isIndex.js","webpack:///../node_modules/lodash/_isIterateeCall.js","webpack:///../node_modules/lodash/_isMasked.js","webpack:///../node_modules/lodash/_isPrototype.js","webpack:///../node_modules/lodash/_nativeKeysIn.js","webpack:///../node_modules/lodash/_nodeUtil.js","webpack:///../node_modules/lodash/_objectToString.js","webpack:///../node_modules/lodash/_overRest.js","webpack:///../node_modules/lodash/_root.js","webpack:///../node_modules/lodash/_setToString.js","webpack:///../node_modules/lodash/_shortOut.js","webpack:///../node_modules/lodash/_toSource.js","webpack:///../node_modules/lodash/constant.js","webpack:///../node_modules/lodash/defaults.js","webpack:///../node_modules/lodash/eq.js","webpack:///../node_modules/lodash/identity.js","webpack:///../node_modules/lodash/isArguments.js","webpack:///../node_modules/lodash/isArray.js","webpack:///../node_modules/lodash/isArrayLike.js","webpack:///../node_modules/lodash/isBuffer.js","webpack:///../node_modules/lodash/isFunction.js","webpack:///../node_modules/lodash/isLength.js","webpack:///../node_modules/lodash/isObject.js","webpack:///../node_modules/lodash/isObjectLike.js","webpack:///../node_modules/lodash/isTypedArray.js","webpack:///../node_modules/lodash/keysIn.js","webpack:///../node_modules/lodash/stubFalse.js","webpack:///external amd \"@emotion/css\"","webpack:///external amd \"@grafana/data\"","webpack:///external amd \"@grafana/runtime\"","webpack:///external amd \"@grafana/ui\"","webpack:///external amd \"react\"","webpack:///external amd \"rxjs\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/node module decorator","webpack:///./greptimedb/types.ts","webpack:///./greptimedb/utils.ts","webpack:///./greptimedb/sqlClient.ts","webpack:///./datasource.ts","webpack:///./utils/timeFilter.ts","webpack:///../node_modules/immer/dist/immer.esm.mjs","webpack:///./components/ConfigEditor.tsx","webpack:///./types.ts","webpack:///./components/QueryEditor/mysql/RawQueryEditor.tsx","webpack:///./utils/utils.ts","webpack:///./components/QueryEditor/mysql/VisualQueryEditor/AddSegment.tsx","webpack:///./components/QueryEditor/mysql/VisualQueryEditor/RemoveablePopover.tsx","webpack:///./components/QueryEditor/mysql/VisualQueryEditor/SelectAddons.tsx","webpack:///./components/QueryEditor/mysql/VisualQueryEditor/SelectSection.tsx","webpack:///./components/QueryEditor/mysql/VisualQueryEditor/WhereSection.tsx","webpack:///./components/QueryEditor/mysql/VisualQueryEditor/GroupBySection.tsx","webpack:///./components/QueryEditor/mysql/VisualQueryEditor/TimeColumnSection.tsx","webpack:///./components/QueryEditor/mysql/VisualQueryEditor/VisualQueryEditor.tsx","webpack:///./utils/sqlBuilder.ts","webpack:///./components/QueryEditor/mysql/QueryModeSwitcher.tsx","webpack:///./components/QueryEditor/mysql/QueryEditor.tsx","webpack:///./components/QueryEditor/promql/index.tsx","webpack:///./components/QueryEditor/index.tsx","webpack:///./module.ts"],"sourcesContent":["var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var baseRest = require('./_baseRest'),\n    eq = require('./eq'),\n    isIterateeCall = require('./_isIterateeCall'),\n    keysIn = require('./keysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nmodule.exports = defaults;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__7644__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3305__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3545__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7388__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2650__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1177__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","export enum GreptimeDataTypes {\n  Null = 'Null',\n\n  // Numeric types:\n  Boolean = 'Boolean',\n  UInt8 = 'UInt8',\n  UInt16 = 'UInt16',\n  UInt32 = 'UInt32',\n  UInt64 = 'UInt64',\n  Int8 = 'Int8',\n  Int16 = 'Int16',\n  Int32 = 'Int32',\n  Int64 = 'Int64',\n  Float32 = 'Float32',\n  Float64 = 'Float64',\n\n  // String types:\n  String = 'String',\n  Binary = 'Binary',\n\n  // Date & Time types:\n\n  /**\n   * Date representing the elapsed time since UNIX epoch (1970-01-01) in days (32 bits).\n   */\n  Date = 'Date',\n  /**\n   * Datetime representing the elapsed time since UNIX epoch (1970-01-01) in\n   * seconds/milliseconds/microseconds/nanoseconds, determined by precision.\n   */\n  DateTime = 'DateTime',\n\n  TimestampSecond = 'TimestampSecond',\n  TimestampMillisecond = 'TimestampMillisecond',\n  TimestampMicrosecond = 'TimestampMicrosecond',\n  TimestampNanosecond = 'TimestampNanosecond',\n\n  List = 'List',\n}\n\n// currently unused\nexport enum GreptimeHttpResultCode {\n  // ====== Begin of common status code ==============\n  /// Success.\n  Success = 0,\n\n  /// Unknown error.\n  Unknown = 1000,\n  /// Unsupported operation.\n  Unsupported = 1001,\n  /// Unexpected error, maybe there is a BUG.\n  Unexpected = 1002,\n  /// Internal server error.\n  Internal = 1003,\n  /// Invalid arguments.\n  InvalidArguments = 1004,\n  // ====== End of common status code ================\n\n  // ====== Begin of SQL related status code =========\n  /// SQL Syntax error.\n  InvalidSyntax = 2000,\n  // ====== End of SQL related status code ===========\n\n  // ====== Begin of query related status code =======\n  /// Fail to create a plan for the query.\n  PlanQuery = 3000,\n  /// The query engine fail to execute query.\n  EngineExecuteQuery = 3001,\n  // ====== End of query related status code =========\n\n  // ====== Begin of catalog related status code =====\n  /// Table already exists.\n  TableAlreadyExists = 4000,\n  TableNotFound = 4001,\n  TableColumnNotFound = 4002,\n  TableColumnExists = 4003,\n  DatabaseNotFound = 4004,\n  // ====== End of catalog related status code =======\n\n  // ====== Begin of storage related status code =====\n  /// Storage is temporarily unable to handle the request\n  StorageUnavailable = 5000,\n  // ====== End of storage related status code =======\n\n  // ====== Begin of server related status code =====\n  /// Runtime resources exhausted, like creating threads failed.\n  RuntimeResourcesExhausted = 6000,\n  // ====== End of server related status code =======\n\n  // ====== Begin of auth related status code =====\n  /// User not exist\n  UserNotFound = 7000,\n  /// Unsupported password type\n  UnsupportedPasswordType = 7001,\n  /// Username and password does not match\n  UserPasswordMismatch = 7002,\n  /// Not found http authorization header\n  AuthHeaderNotFound = 7003,\n  /// Invalid http authorization header\n  InvalidAuthHeader = 7004,\n  /// Illegal request to connect catalog-schema\n  AccessDenied = 7005,\n  // ====== End of auth related status code =====\n}\n\nexport enum QueryLanguages {\n  Mysql = 'sql',\n  PromQL = 'PromQL'\n}\n\ninterface Output<T extends any[] = any[]> {\n  records: {\n    schema: {\n      column_schemas: GreptimeColumnSchemaBrief[];\n    };\n    rows: T[];\n  };\n}\n\n/**\n * T is usually a tuple\n */\nexport interface GreptimeResponseSuccess<T extends any[] = any[]> {\n  code: GreptimeHttpResultCode.Success;\n  execution_time_ms: number;\n  //this is a single-element array\n  output: Array<Output<T>>;\n}\n\nexport interface GreptimeResponseFailed {\n  code: Omit<GreptimeHttpResultCode, GreptimeHttpResultCode.Success>;\n  execution_time_ms: number;\n  error: string;\n}\n\nexport type GreptimeResponse<T extends any[] = any[]> =\n  | GreptimeResponseSuccess<T>\n  | GreptimeResponseFailed;\n\n/**\n * The column schema in the response of the query\n */\nexport interface GreptimeColumnSchemaBrief {\n  name: string;\n  data_type: GreptimeDataTypes;\n}\n\n/**\n * The data rows from `DESC TABLE`\n */\nexport interface GreptimeColumnSchemaDetailed {\n  name: string;\n  data_type: GreptimeDataTypes;\n  nullable: boolean;\n  default: string;    //TODO maybe this is not a string\n  semantic_type: string;\n}\n","import { FieldType, MutableDataFrame } from '@grafana/data';\nimport { GreptimeColumnSchemaBrief, GreptimeDataTypes, GreptimeResponseSuccess } from './types';\n\nconst greptimeTypeToGrafana: Record<GreptimeDataTypes, FieldType> = {\n  [GreptimeDataTypes.Null]: FieldType.other,\n\n  // Numeric types:\n  [GreptimeDataTypes.Boolean]: FieldType.boolean,\n  [GreptimeDataTypes.UInt8]: FieldType.number,\n  [GreptimeDataTypes.UInt16]: FieldType.number,\n  [GreptimeDataTypes.UInt32]: FieldType.number,\n  [GreptimeDataTypes.UInt64]: FieldType.number,\n  [GreptimeDataTypes.Int8]: FieldType.number,\n  [GreptimeDataTypes.Int16]: FieldType.number,\n  [GreptimeDataTypes.Int32]: FieldType.number,\n  [GreptimeDataTypes.Int64]: FieldType.number,\n  [GreptimeDataTypes.Float32]: FieldType.number,\n  [GreptimeDataTypes.Float64]: FieldType.number,\n\n  // String types:\n  [GreptimeDataTypes.String]: FieldType.string,\n  [GreptimeDataTypes.Binary]: FieldType.string,\n\n  // Date & Time types:\n  [GreptimeDataTypes.Date]: FieldType.time,\n  [GreptimeDataTypes.DateTime]: FieldType.time,\n\n  [GreptimeDataTypes.TimestampSecond]: FieldType.time,\n  [GreptimeDataTypes.TimestampMillisecond]: FieldType.time,\n  [GreptimeDataTypes.TimestampMicrosecond]: FieldType.time,\n  [GreptimeDataTypes.TimestampNanosecond]: FieldType.time,\n\n  [GreptimeDataTypes.List]: FieldType.other,\n};\n\nexport function mapGreptimeTypeToGrafana(greptimeType: GreptimeDataTypes): FieldType {\n  return greptimeTypeToGrafana[greptimeType];\n}\n\nexport function extractDataRows<T extends any[] = any[]>(response: GreptimeResponseSuccess<T>): T[] {\n  return response.output[0].records.rows;\n}\n\nexport function extractBriefColumnSchemas(response: GreptimeResponseSuccess): GreptimeColumnSchemaBrief[] {\n  return response.output[0].records.schema.column_schemas;\n}\n\nexport function parseResponseToDataFrame(response: GreptimeResponseSuccess): MutableDataFrame {\n\n  if (!response.output[0].records.rows.length) {\n    // no data in response\n    return new MutableDataFrame();\n  }\n\n  const columnSchemas = response.output[0].records.schema.column_schemas;\n  const dataRows = response.output[0].records.rows;\n  const frame = new MutableDataFrame({\n    fields: columnSchemas.map((columnSchema, idx) => {\n      return {\n        name: columnSchema.name,\n        type: greptimeTypeToGrafana[columnSchema.data_type],\n        values: dataRows.map((row) => row[idx]),\n      };\n    }),\n  });\n  return frame;\n}\n","import type { MutableDataFrame } from '@grafana/data';\nimport { BackendSrvRequest, getBackendSrv } from '@grafana/runtime';\nimport { GreptimeColumnSchemaDetailed, GreptimeDataTypes, GreptimeResponse, GreptimeResponseSuccess } from './types';\nimport { lastValueFrom } from 'rxjs';\nimport { extractDataRows, parseResponseToDataFrame } from './utils';\n\n//feel free to give suggestions on how to name methods in this class\n\n//We do not need to implement complex things like requests pool here, as `getBackendSrv()` provides all the necessary functionality.\n\nexport class GreptimeDBHttpSqlClient {\n  private readonly baseUrl: string;\n  private readonly SQL_URL: string;\n  readonly database: string;\n\n  constructor(baseUrl: string, database: string) {\n    this.baseUrl = baseUrl;\n    this.database = database;\n    this.SQL_URL = `${this.baseUrl}/v1/sql`;\n  }\n\n  // async healthCheck(): Promise<boolean> {\n  //   const response = await getBackendSrv().get<{}>(`${this.baseUrl}/admin/health`);\n  //   return JSON.stringify(response) === JSON.stringify({});\n  // }\n\n  private async fetch<T extends any[] = any[]>(options: BackendSrvRequest): Promise<GreptimeResponseSuccess<T>> {\n    /**\n     * When fetching, there are three possible outcomes:\n     * 1. The request is successful, and the response is a GreptimeResponseSuccess object.\n     * 2. The request is successful, but the response is a GreptimeResponseError object.\n     * 3. The request is failed, and the response is a FetchError object.\n     */\n    const response = lastValueFrom(getBackendSrv().fetch<GreptimeResponse<T>>(options));\n    const data = (await response).data;\n\n    if ('error' in data) {\n      throw new Error(`Error code ${data.code}.\n      ${data.error}`);\n    }\n\n    return data;\n  }\n\n  // async post(url: string, data?: any): Promise<GreptimeDBResponse> {\n  //   const response = await getBackendSrv().post(url, data);\n  //   return response;\n  // }\n\n  // async get(url: string): Promise<GreptimeDBResponse> {\n  //   const response = await getBackendSrv().get(url);\n  //   return response;\n  // }\n\n  async querySql<T extends any[] = any[]>(sql: string): Promise<GreptimeResponseSuccess<T>> {\n    const response: GreptimeResponseSuccess<T> = await this.fetch({\n      url: this.SQL_URL,\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      params: {\n        sql: sql,\n        db: this.database === '' ? undefined : this.database,\n      },\n    });\n\n    return response;\n  }\n\n  async querySqlToDataFrame(sql: string): Promise<MutableDataFrame> {\n    const response = await this.querySql(sql);\n    return parseResponseToDataFrame(response);\n  }\n\n  /**\n   * Show tables in current database.\n   */\n  async showTables(): Promise<string[]> {\n    const response: GreptimeResponseSuccess<string[]> = await this.querySql(`SHOW TABLES`);\n\n    return extractDataRows(response).map((row) => row[0]);\n  }\n\n  /**\n   * Use `DESC TABLE ${table}` to get column schemas.\n   */\n  async queryColumnSchemaOfTable(table: string): Promise<GreptimeColumnSchemaDetailed[]> {\n    /** [Field, Type, Null, Default, Semantic Type] */\n    type DescribeTableRow = [string, GreptimeDataTypes, string, string, string];\n\n    const response: GreptimeResponseSuccess<DescribeTableRow> = await this.querySql(`DESC TABLE ${table}`);\n\n    return response.output[0].records.rows.map((row) => ({\n      name: row[0],\n      data_type: row[1],\n      nullable: row[2] === 'YES',\n      default: row[3],\n      semantic_type: row[4],\n    }));\n  }\n\n  async queryColumnNamesOfTable(table: string): Promise<string[]> {\n    const schemas = await this.queryColumnSchemaOfTable(table);\n    return schemas.map((schema) => schema.name);\n  }\n}\n","// import defaults from 'lodash/defaults';\n\nimport {\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceApi,\n  DataSourceInstanceSettings,\n  MutableDataFrame,\n  // FieldType,\n} from '@grafana/data';\n\nimport { GreptimeQuery, GreptimeSourceOptions } from './types';\nimport { GreptimeDBHttpSqlClient } from 'greptimedb/sqlClient';\nimport { replaceTimeFilterMacro } from 'utils/timeFilter';\nimport type { QueryLanguages } from 'greptimedb/types';\nexport class DataSource extends DataSourceApi<GreptimeQuery, GreptimeSourceOptions> {\n  client: GreptimeDBHttpSqlClient;\n  queryLanguage: QueryLanguages;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<GreptimeSourceOptions>) {\n    super(instanceSettings);\n    this.client = new GreptimeDBHttpSqlClient(instanceSettings.url!, instanceSettings.jsonData.database);\n    this.queryLanguage = instanceSettings.jsonData.queryLanguage\n  }\n\n  async query(options: DataQueryRequest<GreptimeQuery>): Promise<DataQueryResponse> {\n    const promises = options.targets.map(async (target) => {\n      if (!target.queryText) {\n        return new MutableDataFrame();\n      }\n\n      // TODO combine this into sqlBuilder\n      // do some transformation here\n      let queryText = target.queryText;\n      if (target.timeColumn) {\n        queryText = replaceTimeFilterMacro(queryText, options.range, target.timeColumn);\n      }\n\n      return await this.client.querySqlToDataFrame(queryText);\n    });\n\n    return Promise.all(promises).then((data) => ({ data }));\n  }\n\n  // TODO add test for any possible error\n  // health check for the data source.\n  async testDatasource() {\n    // To provide more detailed information about the test result,\n    // Firstly, we use `/health` endpoint to check if the server is alive\n    // Then we query `SELECT 1` to check if grafana has the permission to query certain database\n\n    // `/health` has been removed, and we can not access `/admin/health`\n\n    // health check\n    // const healthy = await this.client.healthCheck();\n    // if (!healthy) {\n    //   return {\n    //     status: 'error',\n    //     message: 'Failed to connect to GreptimeDB',\n    //   };\n    // }\n\n    // query check\n    try {\n      const response = await this.client.querySql('SELECT 1');\n      if (response.code === 0 && response.output[0].records.rows.length === 1) {\n        return {\n          status: 'success',\n          message: 'Success to connect to GreptimeDB',\n        };\n      } else {\n        return {\n          status: 'error',\n          message: `Greptime error code ${response.code}. \n          See https://github.com/GreptimeTeam/greptimedb/blob/develop/src/common/error/src/status_code.rs for more details`,\n        };\n      }\n    } catch (err) {\n\n      // TODO find a better way to narrow this error\n      if (err instanceof Object) {\n        if ('data' in err) {\n          if (err.data instanceof Object) {\n            if ('message' in err.data) {\n              if (err.data.message === 'Authentication to data source failed') {\n\n                return {\n                  status: 'error',\n                  message: 'Authentication to data source failed. You may also need to check the name of the database.',\n                }\n\n              }\n            }\n          }\n        }\n      }\n\n      return {\n        status: 'error',\n        message: 'Failed to connect to GreptimeDB',\n      };\n    }\n  }\n}\n","import { TimeRange } from \"@grafana/data\";\n\nexport const TIME_FILTER_MACRO = \"$__timeFilter\";\n\nfunction generateTimeFilter(range: TimeRange, timeColumn: string): string {\n  const { from, to } = range;\n  // timestamp is in milliseconds in GreptimeDB\n  return `${timeColumn} >= ${from.unix() * 1000} AND ${timeColumn} <= ${to.unix() * 1000}`;\n}\n\nexport function replaceTimeFilterMacro(queryText: string, range: TimeRange, timeColumn: string): string {\n  return queryText.replace(TIME_FILTER_MACRO, generateTimeFilter(range, timeColumn));\n}\n","function n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){var r;return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return t===Object||\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!(null===(r=n.constructor)||void 0===r?void 0:r[L])||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?n.add(t):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)||(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0)),n}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return\"production\"===process.env.NODE_ENV||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function O(n){g(n),n.p.forEach(S),n.p=null}function g(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.O=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.g||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(O(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),O(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o,u=o,a=!1;3===e.i&&(u=new Set(o),o.clear(),a=!0),i(u,(function(r,i){return A(n,e,o,r,i,t,a)})),x(n,o,!1),t&&n.u&&b(\"Patches\").N(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s,v){if(\"production\"!==process.env.NODE_ENV&&c===o&&n(5),r(c)){var p=M(e,c,s&&i&&3!==i.i&&!u(i.R,a)?s.concat(a):void 0);if(f(o,a,p),!r(p))return;e.m=!1}else v&&o.add(c);if(t(c)&&!y(c)){if(!e.h.D&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),!n.l&&n.h.D&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function N(n,r,t){var e=s(r)?b(\"MapSet\").F(r,t):v(r)?b(\"MapSet\").T(r,t):n.g?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function R(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=D(r,c),u.I=!1}else e=D(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function D(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function F(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return\"production\"!==process.env.NODE_ENV&&f(r),en.get(r,n)},set:function(r){var t=this[Q];\"production\"!==process.env.NODE_ENV&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);if(t&&!t.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}function f(r){r.O&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.R,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)o.hasOwnProperty(l)||(f[l]=!0),void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=\"\"+i[s];0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return\"-\"===h?f.push(d):f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},N:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.R,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.R,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r===H?void 0:r}),e.push({op:\"replace\",path:[],value:n})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.R=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=N(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.O&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,R:void 0,t:n,k:this,C:!1,O:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.R.set(n,!0),t.o.set(n,r),t.R.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.t.has(n)?r.R.set(n,!1):r.R.delete(n),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.R=new Map,i(n.t,(function(r){n.R.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=N(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,O:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{F:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){F(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=N(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.R[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&(void 0!==t||r in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[r])||(n.o[r]=t,n.R[r]=!0),!0},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.R[r]=!1,E(n),k(n)):delete n.R[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&n(13),on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.g=B,this.D=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=N(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?O(c):g(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw O(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.D&&d(f,!0),o){var p=[],l=[];b(\"Patches\").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if(\"function\"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return\"undefined\"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=R(e));var i=w(this),o=N(this,e,void 0);return o[Q].C=!0,g(i),o},i.finishDraft=function(r,t){var e=r&&r[Q];\"production\"!==process.env.NODE_ENV&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.D=n},i.setUseProxies=function(r){r&&!B&&n(20),this.g=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);export default fn;export{un as Immer,pn as applyPatches,K as castDraft,$ as castImmutable,ln as createDraft,R as current,J as enableAllPlugins,F as enableES5,C as enableMapSet,T as enablePatches,dn as finishDraft,d as freeze,L as immerable,r as isDraft,t as isDraftable,H as nothing,e as original,fn as produce,cn as produceWithPatches,sn as setAutoFreeze,vn as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","import React, { type ChangeEvent } from 'react';\nimport { Alert, DataSourceHttpSettings, LegacyForms, Select } from '@grafana/ui';\nimport { QueryLanguages } from 'greptimedb/types';\nimport type { DataSourcePluginOptionsEditorProps } from '@grafana/data';\nimport type { GreptimeSourceOptions, GreptimeSecureJsonData } from '../types';\nimport produce from 'immer';\n\n// TODO clear this file\n\nconst {\n  // SecretFormField,\n  FormField,\n} = LegacyForms;\n\ninterface Props extends DataSourcePluginOptionsEditorProps<GreptimeSourceOptions, GreptimeSecureJsonData> {\n  //place holder\n}\n\nconst queryLanguageOptions = [\n  { label: 'SQL', value: QueryLanguages.Mysql },\n  // { label: 'PromQL', value: QueryLanguages.PromQL },\n];\n\nconst DEFAULT_DATABASE = 'public';\n\nexport const ConfigEditor: React.FunctionComponent<Props> = (props: Props) => {\n  const { options, onOptionsChange } = props;\n  const {\n    jsonData,\n    //  secureJsonFields\n  } = options;\n  // const secureJsonData = options.secureJsonData ?? {};\n\n  const changeJsonData = <K extends keyof GreptimeSourceOptions>(key: K, value: GreptimeSourceOptions[K]) => {\n    onOptionsChange(\n      produce(options, (opt) => {\n        opt.jsonData[key] = value;\n      })\n    );\n  };\n\n  // const changeSecureJsonData = <K extends keyof GreptimeSecureJsonData>(key: K, value: GreptimeSecureJsonData[K]) => {\n  //   onOptionsChange(\n  //     produce(options, (opt) => {\n  //       opt.secureJsonData ??= {};\n  //       opt.secureJsonData[key] = value;\n  //     })\n  //   );\n  // };\n\n  const onChangeFactory = (key: keyof GreptimeSourceOptions) => (event: ChangeEvent<HTMLInputElement>) => {\n    changeJsonData(key, event.target.value);\n  };\n\n  // const onSecureChangeFactory = (key: keyof GreptimeSecureJsonData) => (event: ChangeEvent<HTMLInputElement>) => {\n  //   changeSecureJsonData(key, event.target.value);\n  // };\n\n  // //TODO  will be replaced by a factory function\n  // const onResetAPIKey = () => {\n  //   const { onOptionsChange, options } = props;\n  //   onOptionsChange(\n  //     produce(options, (opt) => {\n  //       opt.secureJsonFields ??= {};\n  //       opt.secureJsonFields.apiKey = false;\n\n  //       opt.secureJsonData ??= {};\n  //       opt.secureJsonData.apiKey = '';\n  //     })\n  //   );\n  // };\n\n  return (\n    <div>\n      {/* Query Language */}\n      <h3 className=\"page-heading\">Query Language</h3>\n      <div className=\"gf-form-group\">\n        <Select\n          width={20}\n          value={jsonData.queryLanguage}\n          defaultValue={queryLanguageOptions[0]}\n          options={queryLanguageOptions}\n          onChange={(opt) => changeJsonData('queryLanguage', opt.value!)}\n        />\n      </div>\n      {/* HTTP, Auth */}\n      <DataSourceHttpSettings\n        dataSourceConfig={options}\n        defaultUrl=\"http://localhost:4000\"\n        onChange={onOptionsChange}\n        showAccessOptions={true}\n        // secureSocksDSProxyEnabled={config.secureSocksDSProxyEnabled}\n      />\n      {/* <h3 className=\"page-heading\">HTTP</h3> */}\n      <Alert severity=\"info\" title=\"Database Access\">\n        <p>\n          Setting the database for this datasource does not deny access to other databases.\n          <br />\n          Users can still query other databases using the query syntax like:\n          <br />\n          <code>SELECT * FROM &quot;other_db&quot;.&quot;tablename&quot;.&quot;field&quot;</code>\n          <br />\n          <br />\n          To support data isolation and security, make sure appropriate permissions are configured in GreptimeDB.\n        </p>\n      </Alert>\n      <div className=\"gf-form-group\">\n        <h3 className=\"page-heading\">GreptimeDB Details</h3>\n        <div className=\"gf-form-inline\">\n          <div className=\"gf-form\">\n            <FormField\n              label=\"database\"\n              labelWidth={6}\n              inputWidth={20}\n              onChange={onChangeFactory('database')}\n              value={jsonData.database ?? DEFAULT_DATABASE}\n              // placeholder={DEFAULT_DATABASE}\n            />\n          </div>\n        </div>\n      </div>\n      {/* <h3 className=\"page-heading\">Auth</h3>\n      <p>We have not implemented any authentication yet.</p>\n      <div className=\"gf-form-group\">\n        <div className=\"gf-form-group\">\n          <div className=\"gf-form\">\n            <SecretFormField\n              isConfigured={(secureJsonFields && secureJsonFields.apiKey) as boolean}\n              value={secureJsonData.apiKey || ''}\n              label=\"API Key\"\n              placeholder=\"Not used yet\"\n              tooltip=\"Not used yet\"\n              labelWidth={6}\n              inputWidth={20}\n              onReset={onResetAPIKey}\n              onChange={onSecureChangeFactory('apiKey')}\n            />\n          </div>\n        </div>\n      </div> */}\n    </div>\n  );\n};\n","import type { DataQuery, DataSourceJsonData } from '@grafana/data';\nimport { HealthCheckResultDetails } from '@grafana/runtime';\nimport type { SelectStatement } from 'components/QueryEditor/mysql/VisualQueryEditor/SelectSection';\nimport type { WhereStatement } from 'components/QueryEditor/mysql/VisualQueryEditor/WhereSection';\nimport type { QueryLanguages } from 'greptimedb/types';\n\nexport interface GreptimeQuery extends DataQuery {\n  isRawQuery?: boolean;\n  /** Table to query from */\n  fromTable?: string;\n  timeColumn?: string;\n  /** Selected [column, aggregate, alias] */\n  selectedColumns?: SelectStatement[];\n  /** Where */\n  whereConditions?: WhereStatement[];\n  /** Group by */\n  groupByColumns?: string[];\n\n  queryText: string;\n}\n\n/**\n * We should not type this to Partial<GreptimeQuery>, which makes {...defaultQuery} failed to fullfill those optional fields\n */\nexport const defaultQuery = {\n  // fromTable: '',\n  // timeColumn: '',\n  queryText: 'SELECT * FROM numbers LIMIT 5',\n  selectedColumns: [],\n  whereConditions: [],\n  groupByColumns: [],\n};\n\n/**\n * These are options configured for each DataSource instance\n */\nexport interface GreptimeSourceOptions extends DataSourceJsonData {\n  // URL: string; // URL of the GreptimeDB server\n  database: string; // Database to use\n  queryLanguage: QueryLanguages; // Query language to use\n}\n\n/**\n * Value that is used in the backend, but never sent over HTTP to the frontend\n */\nexport interface GreptimeSecureJsonData {\n  // apiKey?: string;\n}\n\nexport interface TestingStatus {\n  message?: string | null;\n  status?: string | null;\n  details?: HealthCheckResultDetails;\n}\n","import defaults from 'lodash/defaults';\n\nimport React, { ChangeEvent, PureComponent } from 'react';\nimport { CodeEditor, monacoTypes } from '@grafana/ui';\nimport { QueryEditorProps } from '@grafana/data';\nimport { DataSource } from 'datasource';\nimport { defaultQuery, GreptimeSourceOptions, GreptimeQuery } from 'types';\n\n//TODO consider refactor this component to functional component\n\ntype Props = QueryEditorProps<DataSource, GreptimeQuery, GreptimeSourceOptions>;\nexport class RawQueryEditor extends PureComponent<Props> {\n  editor: monacoTypes.editor.IStandaloneCodeEditor | undefined;\n\n  changeQuery = (key: keyof GreptimeQuery, value: any) => {\n    const { query, onChange } = this.props;\n    onChange({ ...query, [key]: value });\n  };\n\n  /**\n   * A Factory creating a change handler for a given query key.\n   */\n  onChangeFactory = (key: keyof GreptimeQuery) => (event: ChangeEvent<HTMLInputElement>) => {\n    this.changeQuery(key, event.target.value);\n  };\n\n  onEditorDidMount = (editor: monacoTypes.editor.IStandaloneCodeEditor) => {\n    this.editor = editor;\n  };\n\n  /**\n   * Save and run query with current text in the editor.\n   */\n  onEditorTextChange = () => {\n    if (!this.editor) {\n      return;\n    }\n    this.changeQuery('queryText', this.editor.getValue());\n    this.props.onRunQuery();\n  };\n\n  render() {\n    const query = defaults(this.props.query, defaultQuery);\n\n    return (\n      <div>\n        <CodeEditor\n          height={'200px'}\n          language=\"sql\"\n          value={query.queryText}\n          onEditorDidMount={this.onEditorDidMount}\n          onBlur={this.onEditorTextChange}\n          onSave={this.onEditorTextChange}\n        />\n      </div>\n    );\n  }\n}\n","import type { SelectableValue } from \"@grafana/data\";\n\nexport function toSelectableValue<T>(value: T): SelectableValue<T> {\n  return {\n    label: String(value),\n    value,\n  };\n}\n","//? This component's name seems ugly. You may help to give it a better name.\n\nimport { SelectableValue } from '@grafana/data';\nimport { SegmentAsync } from '@grafana/ui';\nimport React from 'react';\n\n/**\n * Grafana has some issue on type `SelectableValue`.  \n * We have to mark the type of param in `onChange` manually if it is different from the value in options.\n */\n\ntype Props<T, U> = {\n  loadOptions: (query?: string) => Promise<Array<SelectableValue<T>>>;\n  onChange: (item: SelectableValue<U>) => void;\n};\n\nexport const AddSegment = <T, U = T>(props: Props<T, U>) => {\n  const { loadOptions, onChange } = props;\n\n  return (\n    <SegmentAsync\n      placeholder='+'\n      loadOptions={loadOptions as any}\n      onChange={onChange}\n    />\n  );\n};\n","import React from 'react';\nimport { Tooltip, Button } from \"@grafana/ui\";\n\ntype Props = {\n  onRemove: () => void;\n  children: JSX.Element,\n}\n\n/**\n * TODO: Currently only support warpping one component.\n */\nexport const RemoveablePopover = (props: Props) => {\n\n  const { children, onRemove } = props;\n\n  const DeleteButton = () => {\n    return (\n      <Button\n        onClick={onRemove}\n        variant='destructive'\n        size='sm'\n      >\n        Remove\n      </Button>\n    )\n  }\n\n  return (\n    <>\n      <Tooltip\n        interactive\n        content={DeleteButton}\n        // WARNING SHIT CODE \n        //      you should know that, if you lose focus on this tooltip, \n        //      it will not disapper even if your pointer is not hover on it's children.\n        //      Now I place it in the bottom of children, so it would be coverd by the select component.\n        placement=\"bottom-start\"\n      >\n        <span>\n          {children}\n        </span>\n      </Tooltip>\n    </>\n  )\n}\n\n\n","/*\n * SelectAddons is a component for rendering addons for columns in `SELECT` section,\n * not simply a select component.\n * \n * Mention that `Alias` is also get managed here.\n */\nimport React from \"react\";\nimport type { GrafanaTheme2, SelectableValue } from \"@grafana/data\";\nimport type { SelectStatement } from \"./SelectSection\";\nimport { InlineLabel, SegmentAsync, SegmentInput, useStyles2 } from \"@grafana/ui\";\nimport { css } from \"@emotion/css\";\nimport { AddSegment } from \"./AddSegment\";\nimport { RemoveablePopover } from \"./RemoveablePopover\";\nimport produce from \"immer\";\n\nexport type Addon = FunctionAddon | OperatorAddon;\n\ntype BaseAddon = {\n  type: string;\n  name: string;\n  param?: string;\n}\n\nconst availableOperators = ['+', '-', '*', '/'] as const;\n\ntype Operator = typeof availableOperators[number];\n\ntype OperatorAddon = BaseAddon & {\n  type: 'operator';\n  name: Operator;\n  param: string;\n}\n\nconst aggregateFunctions = ['sum', 'avg', 'max', 'min', 'count'] as const;\n\nconst availableFunctions = [...aggregateFunctions, 'distinct'] as const;   //TODO maybe we should manage this in a better way.\n\ntype Fn = typeof availableFunctions[number]; //TODO give this a better name\n\ntype FunctionAddon = BaseAddon & {\n  type: 'function';\n  name: Fn;\n}\n\nconst addonOptions: Array<\n  SelectableValue<Array<SelectableValue<Addon | { type: 'alias' }>>>\n> =\n  [\n    {\n      label: 'Alias',\n      options: [\n        {\n          label: 'alias',\n          value: { type: 'alias' }\n        }\n      ]\n    },\n    {\n      label: 'Functions',\n      options: availableFunctions.map((fn) => ({\n        label: fn,\n        value: { type: 'function', name: fn }\n      }))\n    },\n    {\n      label: 'Math',\n      options: availableOperators.map((op) => ({\n        label: op,\n        value: { type: 'operator', name: op, param: '100' }\n      }))\n    },\n  ]\n\ntype Props = {\n  selectStatement: SelectStatement\n  onChangeAddons: (newAddons: Addon[]) => void;\n  onChangeAlias: (newAlias: string | undefined) => void;\n};\n\nexport const SelectAddons = (props: Props) => {\n  const { selectStatement, onChangeAlias, onChangeAddons } = props;\n\n  const addons = selectStatement.addons ?? []\n  const alias = selectStatement.alias\n\n  const styles = useStyles2(getStyles);\n\n  // ======\n\n  const handleAddAlias = () => {\n    onChangeAlias('alias');\n  }\n\n  const handleRemoveAlias = () => {\n    onChangeAlias(undefined);\n  }\n\n  const handleChangeAlias = (text: string | number) => {\n    onChangeAlias(String(text));\n  }\n\n  // ======\n\n  const handleAddAddon = (addon: Addon) => {\n    onChangeAddons([...addons, addon])\n  }\n\n  const handleRemoveAddon = (addonIdx: number) => {\n    return () => {\n      const newAddons = addons.filter((_, i) => i !== addonIdx);\n      onChangeAddons(newAddons);\n    }\n  }\n\n  const handleReselectAddon = (addonIdx: number) => {\n    return (select: SelectableValue<Addon>) => {\n      const newAddons = produce(addons, (draft) => {\n        draft[addonIdx] = select.value!;\n      });\n      onChangeAddons(newAddons);\n    }\n  }\n\n  const handleChangeAddonParam = (addonIdx: number) => {\n    return (text: string | number) => {\n      const newAddons = produce(addons, (draft) => {\n        draft[addonIdx].param = String(text);\n      });\n      onChangeAddons(newAddons);\n    }\n  }\n\n  // ======\n\n  const handleMassAdd = (select: SelectableValue<Addon | { type: 'alias' }>) => {\n    const newAddon = select.value!;\n    switch (newAddon.type) {\n      case 'alias':\n        handleAddAlias();\n        break;\n      default:\n        handleAddAddon(newAddon);\n        break;\n    }\n  }\n\n  return (\n    <>\n      {/* render addons */}\n      {addons.map((addon, idx) =>\n        <React.Fragment key={addon.name + addon.param}>{\n          addon.param === undefined ? (\n            <>\n              <RemoveablePopover onRemove={handleRemoveAddon(idx)}>\n                <SegmentAsync\n                  value={`${addon.name}${addon.type === 'function' ? ' ( )' : ''}` as any}\n                  loadOptions={() => Promise.resolve(addonOptions) as any}\n                  onChange={handleReselectAddon(idx)}\n                />\n              </RemoveablePopover>\n            </>\n          ) : (\n            <>\n              <RemoveablePopover onRemove={handleRemoveAddon(idx)}>\n                <SegmentAsync\n                  value={addon.name as any}\n                  loadOptions={() => Promise.resolve(addonOptions) as any}\n                  onChange={handleReselectAddon(idx)}\n                />\n              </RemoveablePopover>\n              <SegmentInput\n                value={addon.param}\n                onChange={handleChangeAddonParam(idx)}\n              />\n            </>\n          )\n        }\n        </React.Fragment>\n      )}\n      {/* render alias */}\n      {alias && (\n        <>\n          {/* TODO: should warp the input too? */}\n          <RemoveablePopover onRemove={handleRemoveAlias}>\n            <InlineLabel width={'auto'} className={styles.inlineLabel}>\n              AS\n            </InlineLabel>\n          </RemoveablePopover>\n          <SegmentInput\n            value={alias}\n            onChange={handleChangeAlias}\n          />\n        </>\n      )}\n      {/* render add button */}\n      <AddSegment\n        loadOptions={() => Promise.resolve(addonOptions)}\n        onChange={handleMassAdd}\n      />\n    </>\n  )\n\n};\n\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    inlineLabel: css`\n      color: ${theme.colors.primary.text};\n      `,\n  };\n}\n","import React from \"react\";\nimport type { GreptimeQuery } from \"types\";\nimport type { GreptimeColumnSchemaDetailed } from \"greptimedb/types\";\nimport type { SelectableValue } from \"@grafana/data\";\nimport { toSelectableValue } from \"utils\";\nimport { SegmentAsync, SegmentSection } from \"@grafana/ui\";\nimport { AddSegment } from \"./AddSegment\";\nimport { RemoveablePopover } from \"./RemoveablePopover\";\nimport { type Addon, SelectAddons } from \"./SelectAddons\";\nimport produce from \"immer\"\n\nexport type SelectStatement = {\n  column: string;\n\n  /** \n   * Assuming that these addons are applied to the column name in order.\n   * @example [{sum}, {+ 1} , {/ 2}] => (sum(column) + 1) / 2\n   */\n  addons?: Addon[]\n  alias?: string;\n};\n\n// ===================== component =====================\n\ntype Props = {\n  selectedColumns: SelectStatement[];\n  timeColumn: string | undefined;\n  changeQueryByKey: <K extends keyof GreptimeQuery>(key: K, value: GreptimeQuery[K]) => void;\n\n  onLoadColumnSchema: () => Promise<GreptimeColumnSchemaDetailed[]>;\n}\n\nexport const SelectSection = (props: Props) => {\n\n  const { selectedColumns: selectStatements, timeColumn, changeQueryByKey, onLoadColumnSchema } = props;\n\n  // ===================== column name handlers =====================\n\n  /**\n   * It would cause error if the there are same column names in the output\n   */\n  const handleLoadUnselectedColumns = async () => {\n\n    //TODO Consider allowing add all columns and add an tip when users try to add repeated columns.\n    //TODO Aggregation function is ignored while it counts.\n    const selectedColumns = selectStatements.map((stmt) => stmt.alias ?? stmt.column)\n\n    return (await onLoadColumnSchema())\n      .map((schema) => schema.name)\n      .filter((column) => ![timeColumn, ...selectedColumns].includes(column))\n      .map((column) => toSelectableValue(column));\n  };\n\n  const handleAddColumn = (select: SelectableValue<string>) => {\n    const newSelectStatements = [...selectStatements, { column: select.value! }];\n    changeQueryByKey('selectedColumns', newSelectStatements);\n  };\n\n  /**\n   * Should return self value concat other unselected values.\n   */\n  const handleLoadReselectColumns = (selfVal: string) => {\n    return async () => {\n      return [toSelectableValue(selfVal), ... await handleLoadUnselectedColumns()];\n    };\n  };\n\n  /**\n   * Reselect a selected column.\n   */\n  const handleReselectColumn = (idx: number) => {\n    return (select: SelectableValue<string>) => {\n      const newSelectStatements = selectStatements.map((stmt, i) =>\n        i === idx\n          ? { ...stmt, column: select.value! }\n          : stmt\n      );\n      changeQueryByKey('selectedColumns', newSelectStatements);\n    };\n  };\n\n  const handleRemoveSelectedColumn = (idx: number) => {\n    return () => {\n      const newSelectStatements = selectStatements.filter((_, i) => i !== idx);\n      changeQueryByKey('selectedColumns', newSelectStatements);\n    };\n  };\n\n  // ============= addon and alais handlers =============\n\n  const handleOnChangeAddons = (stmtIdx: number) => {\n    return (newAddons: Addon[]) => {\n      changeQueryByKey('selectedColumns', produce(selectStatements, (draft) => {\n        draft[stmtIdx].addons = newAddons;\n      }))\n    }\n  }\n\n  const handleOnChangeAlias = (stmtIdx: number) => {\n    return (newAlias: string | undefined) => {\n      changeQueryByKey('selectedColumns', produce(selectStatements, (draft) => {\n        draft[stmtIdx].alias = newAlias;\n      }))\n    }\n  }\n\n  // ============= render =============\n\n  const defaultStmt = { column: '' };\n\n  const selectStatementsWithPlaceholder = [...selectStatements, defaultStmt]; //last one is for add button\n\n  return (\n    <>\n      {selectStatementsWithPlaceholder.map((stmt, idx) => (\n        <SegmentSection label={idx === 0 ? 'SELECT' : ''} fill={true} key={stmt.column}>\n          {idx === selectStatementsWithPlaceholder.length - 1 ? (\n            <>\n              <AddSegment\n                loadOptions={handleLoadUnselectedColumns}\n                onChange={handleAddColumn}\n              />\n            </>\n          ) : (\n            <>\n              {/* column */}\n              <RemoveablePopover onRemove={handleRemoveSelectedColumn(idx)}>\n                <SegmentAsync\n                  value={stmt.column}\n                  onChange={handleReselectColumn(idx)}\n                  loadOptions={handleLoadReselectColumns(stmt.column)}\n                />\n              </RemoveablePopover>\n              {/* addons */}\n              <SelectAddons\n                selectStatement={stmt}\n                onChangeAddons={handleOnChangeAddons(idx)}\n                onChangeAlias={handleOnChangeAlias(idx)}\n              />\n            </>\n          )}\n        </SegmentSection>\n      ))}\n    </>\n  )\n}\n","import React from \"react\";\nimport { SegmentInput, SegmentSection, SegmentAsync, Segment } from \"@grafana/ui\";\nimport { RemoveablePopover } from \"./RemoveablePopover\";\nimport { toSelectableValue } from \"utils\";\nimport type { SelectableValue } from \"@grafana/data\";\nimport type { GreptimeQuery } from \"types\";\nimport { AddSegment } from \"./AddSegment\";\n\n/*\n * The format of WHERE statements should be [column] [operator] [value] [AND|OR]\n * ? How to identify the type of the value? It could be a string, number or boolean\n */\n\nconst OPERATORS = ['=', '!=', '>', '<', '>=', '<='] as const;\ntype operatorType = typeof OPERATORS[number];\n\ntype valueType = string | number;\n\n/** The last condition should not have connector */\nconst CONNECTORS = ['AND', 'OR'] as const;\ntype connectorType = 'AND' | 'OR' | undefined;\n\n/**\n * In case someday we have to get rid of the readonly modifier,\n * We could use a function Tuple to narrowing the tuples in `handle...` functions\n */\nexport type WhereStatement = Readonly<[string, operatorType, valueType, connectorType]>;\n\nconst defaultStatement: WhereStatement = [\"select column\", OPERATORS[0], 'value', 'AND'];\n\ntype Props = {\n  whereConditions: WhereStatement[];\n  handleLoadAllColumns: () => Promise<Array<SelectableValue<string>>>;\n  changeQueryByKey: <K extends keyof GreptimeQuery>(key: K, value: GreptimeQuery[K]) => void;\n}\n\nexport const WhereSection = (props: Props) => {\n\n  const { whereConditions, handleLoadAllColumns, changeQueryByKey } = props;\n\n  const handleAddCondition = (select: SelectableValue<string>) => {\n    const newWhereConditions = [...whereConditions, [select.value!, defaultStatement[1], defaultStatement[2], defaultStatement[3]] as const];\n    changeQueryByKey('whereConditions', newWhereConditions);\n  }\n\n  const handleChangeColumn = (idx: number) => {\n    return (select: SelectableValue<string>) => {\n      const newWhereConditions = whereConditions.map((condition, i) => {\n        return i === idx\n          ? [select.value!, condition[1], condition[2], condition[3]] as const\n          : condition\n      });\n\n      changeQueryByKey('whereConditions', newWhereConditions);\n    }\n  }\n\n  const handleChangeOperator = (idx: number) => {\n    return (select: SelectableValue<operatorType>) => {\n      const newWhereConditions = whereConditions.map((condition, i) =>\n        i === idx\n          ? [condition[0], select.value!, condition[2], condition[3]] as const\n          : condition\n      );\n      changeQueryByKey('whereConditions', newWhereConditions);\n    }\n  }\n\n  const handleChangeValue = (idx: number) => {\n    return (newVal: string | number) => {\n      const newWhereConditions = [...whereConditions].map((condition, i) =>\n        i === idx\n          ? [condition[0], condition[1], newVal!, condition[3]] as const\n          : condition\n      );\n      changeQueryByKey('whereConditions', newWhereConditions);\n    }\n  }\n\n  const handleChangeConnector = (idx: number) => {\n    return (newVal: SelectableValue<connectorType>) => {\n      const newWhereConditions = [...whereConditions].map((condition, i) =>\n        i === idx\n          ? [condition[0], condition[1], condition[2], newVal.value!] as const\n          : condition\n      );\n      changeQueryByKey('whereConditions', newWhereConditions);\n    }\n  }\n\n  const handleRemoveWhereCondition = (idx: number) => {\n    return () => {\n      const newWhereConditions = [...whereConditions].filter((_, i) => i !== idx);\n      changeQueryByKey('whereConditions', newWhereConditions);\n    }\n  }\n\n  // console.log(\"whereConditions:\", whereConditions);\n  const whereConditionsWithPlaceholder: WhereStatement[] = [...whereConditions, defaultStatement]\n  // console.log(\"with placeholder:\", whereConditionsWithPlaceholder)\n\n  return (\n    <>\n      {whereConditionsWithPlaceholder.map((condition, idx) => {\n        const [column, op, value, connector] = condition;\n        return (\n          <SegmentSection label={idx === 0 ? 'WHERE' : ''} fill={true} key={condition.toString() + idx} >\n            {idx === whereConditionsWithPlaceholder.length - 1 ? (\n              <>\n                <AddSegment\n                  onChange={handleAddCondition}\n                  loadOptions={handleLoadAllColumns}\n                />\n              </>\n            ) : (\n              <>\n                {/* column name */}\n                <RemoveablePopover onRemove={handleRemoveWhereCondition(idx)}>\n                  <SegmentAsync\n                    value={toSelectableValue(column)}\n                    loadOptions={handleLoadAllColumns}\n                    onChange={handleChangeColumn(idx)}>\n                  </SegmentAsync>\n                </RemoveablePopover>\n                {/* operator */}\n                <Segment\n                  value={toSelectableValue(op)}\n                  options={OPERATORS.map(toSelectableValue)}\n                  onChange={handleChangeOperator(idx)}\n                  inputMinWidth={40}\n                />\n                {/* value */}\n                <SegmentInput\n                  value={value}\n                  placeholder={'value'}\n                  onChange={handleChangeValue(idx)}\n                />\n                {/* connector */}\n                {\n                  idx < whereConditionsWithPlaceholder.length - 2 && (\n                    <Segment\n                      value={toSelectableValue(connector)}\n                      options={CONNECTORS.map(toSelectableValue)}\n                      onChange={handleChangeConnector(idx)}\n                    />\n                  )\n                }\n              </>\n            )}\n          </SegmentSection>\n        )\n      })}\n    </>\n  )\n\n}\n","import React from \"react\";\n\nimport { Segment, SegmentSection } from \"@grafana/ui\";\nimport type { GreptimeQuery } from \"types\";\nimport { toSelectableValue } from \"utils\";\nimport type { SelectableValue } from \"@grafana/data\";\nimport { AddSegment } from \"./AddSegment\";\nimport type { SelectStatement } from \"./SelectSection\";\nimport { RemoveablePopover } from \"./RemoveablePopover\";\n\ntype Props = {\n  groupByColumns: string[];\n  selectStatements: SelectStatement[];\n  timeColumn: string | undefined;\n  changeQueryByKey: <K extends keyof GreptimeQuery>(key: K, value: GreptimeQuery[K]) => void;\n}\n\nexport const GroupBySection = (props: Props) => {\n  const { groupByColumns, changeQueryByKey, selectStatements, timeColumn } = props;\n\n  const handleLoadAddableColumns = () => {\n\n    const selectedColumns = selectStatements\n      .map((stmt) => stmt.column)\n\n    //TODO so ugly\n    return (\n      timeColumn\n        ? [...selectedColumns, timeColumn]\n        : selectedColumns\n    )\n      .filter(col => !groupByColumns.includes(col))\n      .map((col) => toSelectableValue(col));\n\n  };\n\n  const handleAddColumn = (select: SelectableValue<string>) => {\n    const newSelectedColumns = [...groupByColumns, select.value!];\n    changeQueryByKey('groupByColumns', newSelectedColumns);\n  };\n\n  const handleReselectColumn = (idx: number) => {\n    return (select: SelectableValue<string>) => {\n      const newSelectedColumns = groupByColumns.map((col, i) =>\n        i === idx\n          ? select.value!\n          : col\n      )\n      changeQueryByKey('groupByColumns', newSelectedColumns);\n    };\n  }\n\n  const handleRemoveColumn = (idx: number) => {\n    return () => {\n      const newSelectedColumns = groupByColumns.filter((_, i) => i !== idx);\n      changeQueryByKey('groupByColumns', newSelectedColumns);\n    }\n  };\n\n  const groupByColumnsWithPlaceholder = [...groupByColumns, ''];\n\n  return (\n    <SegmentSection label=\"GROUP BY\" fill={true}>\n      {groupByColumnsWithPlaceholder.map((col, idx) => (\n        idx === groupByColumnsWithPlaceholder.length - 1 ? (\n          <>\n            <AddSegment\n              key={idx}\n              loadOptions={async () => handleLoadAddableColumns()}\n              onChange={handleAddColumn}\n            />\n          </>\n        ) : (\n          <>\n            <RemoveablePopover onRemove={handleRemoveColumn(idx)}>\n              <Segment\n                key={idx}\n                value={toSelectableValue(col)}\n                options={[...handleLoadAddableColumns(), toSelectableValue(col)]}\n                onChange={handleReselectColumn(idx)}\n              />\n            </RemoveablePopover>\n          </>\n        )\n      ))}\n    </SegmentSection>\n  );\n};\n","import React, { useEffect, useRef } from \"react\";\nimport { FieldType, type GrafanaTheme2, type SelectableValue } from \"@grafana/data\";\nimport { InlineLabel, SegmentAsync, useStyles2 } from \"@grafana/ui\";\nimport { css } from \"@emotion/css\";\nimport type { GreptimeColumnSchemaDetailed } from \"greptimedb/types\";\nimport type { GreptimeQuery } from \"types\";\nimport { mapGreptimeTypeToGrafana } from \"greptimedb/utils\";\nimport { toSelectableValue } from \"utils\";\n\n// This component is used for auto detect Time Column after user select a table.\n\ntype Props = {\n  fromTable: string | undefined;\n  timeColumn: string | undefined;\n  onLoadColumnSchema: () => Promise<GreptimeColumnSchemaDetailed[]>\n  changeQueryByKey: <K extends keyof GreptimeQuery>(key: K, value: GreptimeQuery[K]) => void;\n}\n\nexport const InlineTimeColumnSection = (props: Props) => {\n\n  const { fromTable, timeColumn, changeQueryByKey, onLoadColumnSchema } = props;\n\n  const styles = useStyles2(getStyles);\n\n  const handleChangeTimeColumn = (select: SelectableValue<string>) => {\n    changeQueryByKey('timeColumn', select.value);\n  };\n\n  const handleLoadTimeColumns = async () => {\n    const columnSchemas = await onLoadColumnSchema();\n    const timeColumns = columnSchemas\n      .filter((col) => mapGreptimeTypeToGrafana(col.data_type) === FieldType.time)\n      .map((col) => col.name);\n    return timeColumns.map(toSelectableValue);\n  };\n\n  // auto detect time column when table changed.\n\n  const lastTableRef = useRef<string | undefined>();\n\n  useEffect(() => {\n\n    if (lastTableRef.current !== fromTable) {\n\n      lastTableRef.current = fromTable;\n\n      onLoadColumnSchema().then((columnSchemas) => {\n        const timeIndexColumn = columnSchemas\n          .find((col) => col.semantic_type === 'TIME INDEX')\n\n        // intended to set to undefined if no time indexed column was found.\n        changeQueryByKey('timeColumn', timeIndexColumn?.name);\n\n      });\n    }\n\n  }, [changeQueryByKey, fromTable, timeColumn, onLoadColumnSchema]);\n\n  return <>\n    <InlineLabel width={'auto'} className={styles.inlineLabel}>\n      Time column\n    </InlineLabel>\n    <SegmentAsync\n      value={timeColumn ?? 'select time column'}\n      onChange={handleChangeTimeColumn}\n      loadOptions={handleLoadTimeColumns}\n    />\n  </>;\n};\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    inlineLabel: css`\n        color: ${theme.colors.primary.text};\n      `,\n  };\n}\n","import React, { useMemo, } from 'react';\nimport type { DataSource } from 'datasource';\nimport { QueryEditorProps, SelectableValue } from '@grafana/data';\nimport { defaultQuery, GreptimeQuery, GreptimeSourceOptions } from 'types';\nimport { SegmentAsync, SegmentSection } from '@grafana/ui';\nimport { buildQuery } from 'utils/sqlBuilder';\nimport { toSelectableValue } from 'utils';\nimport { SelectSection } from './SelectSection';\nimport { WhereSection } from './WhereSection';\nimport { GroupBySection } from './GroupBySection';\nimport { InlineTimeColumnSection } from './TimeColumnSection';\n\ntype Props = QueryEditorProps<DataSource, GreptimeQuery, GreptimeSourceOptions>;\n\nexport const VisualQueryEditor = (props: Props) => {\n  // const { query, onChange, onRunQuery, datasource, range, data } = props;\n  const { datasource, query: oriQuery, onChange, onRunQuery } = props;\n  const { client } = datasource;\n\n  const query = {\n    ...defaultQuery,\n    ...oriQuery,\n  }\n  const { fromTable, timeColumn, selectedColumns, whereConditions, groupByColumns } = query;\n\n  //TODO!: Below logic makes the component render more than once, which affects the performance.\n  /**\n   * When the query object changes, we build a new sql and query it.\n   */\n  //? Is there a time when we don't want to query?\n  //? Anyway, I find that Grafana's official plugins also throws uncaught errors when the query is not valid.\n  const onUpdateQuery = (newQuery: GreptimeQuery) => {\n    const newSql = buildQuery(newQuery, datasource);\n    onChange({ ...newQuery, queryText: newSql });\n    onRunQuery();\n  };\n\n  const changeQueryByKey = <T extends keyof GreptimeQuery>(key: T, value: GreptimeQuery[T]) => {\n    const newQuery = { ...query, [key]: value };\n    onChange(newQuery);\n    onUpdateQuery(newQuery);\n  };\n\n  const handleFromTableChange = (select: SelectableValue<string>) => {\n    changeQueryByKey('fromTable', select.value);\n  };\n\n  /**\n   * What will happen here:\n   * A promise requesting tables will be created and cached.\n   * Finally this variable would be a fulfilled promise.\n   * Everytime we `await` this variable, it will return a same fulfilled promise. This means the result of the promise will be cached.\n   * It is safe to access the inner value using `await`, both for waiting the promise to be fulfilled and for getting the inner value.\n   * As long as the given variables in dependency array are not changed, the promise will not be recreated.\n   */\n  const getAllTables = useMemo(() => {\n    return client.showTables();\n  }, [client]);\n\n  const handleLoadFromTables = async () => {\n    const tables = await getAllTables;\n    return tables.map(toSelectableValue);\n  };\n\n  const getColumnSchema = useMemo(() => {\n    return fromTable ? client.queryColumnSchemaOfTable(fromTable) : Promise.resolve([]);\n  }, [client, fromTable]);\n\n  const handleLoadColumnSchema = async () => {\n    return await getColumnSchema;\n  };\n\n  const getColumnNames = useMemo(async () => {\n    const columns = await getColumnSchema;\n    return columns.map((column) => column.name);\n  }, [getColumnSchema]);\n\n  return (\n    <>\n      <div>\n        <SegmentSection label=\"FROM\" fill={true}>\n          <SegmentAsync\n            value={fromTable ?? 'select table'}\n            onChange={handleFromTableChange}\n            loadOptions={handleLoadFromTables}\n          />\n          <InlineTimeColumnSection\n            fromTable={fromTable}\n            timeColumn={timeColumn}\n            changeQueryByKey={changeQueryByKey}\n            onLoadColumnSchema={handleLoadColumnSchema}\n          />\n        </SegmentSection>\n        {/* SELECT */}\n        <SelectSection\n          selectedColumns={selectedColumns}\n          timeColumn={timeColumn}\n          changeQueryByKey={changeQueryByKey}\n          onLoadColumnSchema={handleLoadColumnSchema}\n        />\n        {/* WHERE */}\n        <WhereSection\n          whereConditions={whereConditions}\n          handleLoadAllColumns={async () => (await getColumnNames).map(toSelectableValue)}\n          changeQueryByKey={changeQueryByKey}\n        />\n        {/* GROUP BY */}\n        <GroupBySection\n          groupByColumns={groupByColumns}\n          selectStatements={selectedColumns}\n          timeColumn={timeColumn}\n          changeQueryByKey={changeQueryByKey}\n        />\n      </div>\n    </>\n  );\n};\n\n","import type { SelectStatement } from 'components/QueryEditor/mysql/VisualQueryEditor/SelectSection';\nimport type { WhereStatement } from 'components/QueryEditor/mysql/VisualQueryEditor/WhereSection';\nimport type { DataSource } from 'datasource';\nimport type { GreptimeQuery } from 'types';\nimport { TIME_FILTER_MACRO } from './timeFilter';\n\n/**\n * Build the query from the variables selected visual query builder\n */\n\nexport function processSelectStatements(selectStatements: SelectStatement[] | undefined): string {\n  if (!selectStatements?.length) {\n    return '';\n  }\n\n  return selectStatements.map((stmt) => {\n    let res = `${stmt.column}`\n\n    if (stmt.addons?.length) {\n      res = stmt.addons.reduce((expr, addon, idx, addons) => {\n        switch (addon.type) {\n          case 'function':\n            return `${addon.name}(${expr})`;\n          case 'operator':\n            // we do not need to wrap the expression in parentheses if the next addon is a function\n            return addons[idx + 1]?.type === 'function'\n              ? `${expr} ${addon.name} ${addon.param}`\n              : `(${expr} ${addon.name} ${addon.param})`;\n          default:\n            console.log('Received unexpected addon type:', addon)\n            return expr;\n        }\n      }, res)\n    }\n\n    if (stmt.alias) {\n      res += ` AS ${stmt.alias}`\n    }\n\n    return res;\n\n  }).join(', ');\n}\n\nexport function connectWhereConditions(\n  whereConditions: WhereStatement[] | undefined,\n  sparater: '\\n' | ' ' = '\\n'\n): string {\n\n  if (!whereConditions) {\n    return ''\n  };\n\n  return whereConditions.map((condition, idx) =>\n    idx === whereConditions.length - 1\n      ? condition.slice(0, -1).join(' ')\n      : condition.join(' ')\n  ).join(sparater);\n}\n\n/**\n * return original conditions if timeColumn is not provided\n * otherwise, return a new condition string with time filter macro inserted\n */\nexport function tryInsertTimeFilterMacro(conditions: string, timeColumn: string | undefined): string {\n  if (!timeColumn) {\n    return conditions;\n  }\n\n  if (conditions.length > 0) {\n    return `${TIME_FILTER_MACRO} AND (${conditions})`;\n  } else {\n    return `${TIME_FILTER_MACRO}`;\n  }\n}\n\nexport function buildQuery(query: GreptimeQuery, datasource: DataSource) {\n  if (query.isRawQuery) {\n    return query.queryText;\n  }\n  const { fromTable, timeColumn, selectedColumns, whereConditions, groupByColumns } = query;\n\n  let queryText = '';\n\n  // SELECT\n  const SELECT = `SELECT ${processSelectStatements(selectedColumns)}${timeColumn ? `${selectedColumns?.length ? ', ' : ''}${timeColumn}` : ''} `;\n  queryText += `${SELECT}\\n`\n\n  // FROM\n  const FROM = `FROM ${fromTable} `;\n  queryText += `${FROM}\\n`\n\n  // WHERE\n  let conditions = connectWhereConditions(whereConditions);\n  // insert a time filter macro if time column is provided\n  conditions = tryInsertTimeFilterMacro(conditions, timeColumn);\n\n  const WHERE = conditions.length > 0\n    ? `WHERE ${conditions}`\n    : '';\n  queryText += `${WHERE}\\n`\n\n  // GROUP BY\n  const GROUP_BY = groupByColumns?.length\n    ? `GROUP BY ${groupByColumns.join(', ')}`\n    : '';\n  queryText += `${GROUP_BY}\\n`\n\n  return queryText;\n}\n","/**\n * https://github.com/grafana/grafana/blob/main/public/app/plugins/datasource/influxdb/components/QueryEditorModeSwitcher.tsx\n */\nimport React, { useEffect, useState } from 'react';\nimport { Button, ConfirmModal } from '@grafana/ui';\n\ntype Props = {\n  isRawQuery: boolean;\n  onIsRawChange: (newIsRaw: boolean) => void;\n};\n\nexport const QueryEditorModeSwitcher = ({ isRawQuery, onIsRawChange }: Props): JSX.Element => {\n  const [isModalOpen, setModalOpen] = useState(false);\n\n  useEffect(() => {\n    // if the isRaw changes, we hide the modal\n    setModalOpen(false);\n  }, [isRawQuery]);\n\n  return (\n    <>\n      {isRawQuery ? (\n        <>\n          <Button\n            aria-label=\"Switch to visual editor\"\n            icon=\"pen\"\n            variant=\"secondary\"\n            type=\"button\"\n            onClick={() => {\n              // we show the are-you-sure modal\n              setModalOpen(true);\n            }}\n          ></Button>\n          <ConfirmModal\n            isOpen={isModalOpen}\n            title=\"Switch to visual editor mode\"\n            body=\"Are you sure to switch to visual editor mode? You will lose the changes done in raw query mode.\"\n            confirmText=\"Yes, switch to editor mode\"\n            dismissText=\"No, stay in raw query mode\"\n            onConfirm={() => {\n              onIsRawChange(false);\n            }}\n            onDismiss={() => {\n              setModalOpen(false);\n            }}\n          />\n        </>\n      ) : (\n        <Button\n          aria-label=\"Switch to text editor\"\n          icon=\"pen\"\n          variant=\"secondary\"\n          type=\"button\"\n          onClick={() => {\n            onIsRawChange(true);\n          }}\n        ></Button>\n      )}\n    </>\n  );\n};\n","import React from 'react';\nimport { QueryEditorProps } from '@grafana/data';\nimport { DataSource } from 'datasource';\nimport { GreptimeSourceOptions, GreptimeQuery } from 'types';\nimport { RawQueryEditor } from './RawQueryEditor';\nimport { VisualQueryEditor } from './VisualQueryEditor/';\nimport { QueryEditorModeSwitcher } from './QueryModeSwitcher';\nimport { css } from '@emotion/css';\n\ntype Props = QueryEditorProps<DataSource, GreptimeQuery, GreptimeSourceOptions>;\n\nexport const QueryEditor = (props: Props): JSX.Element => {\n  // const { query, onChange, onRunQuery, datasource, range, data } = props;\n  const { query, onChange, onRunQuery } = props;\n  const { isRawQuery } = query;\n  return (\n    <>\n      <div className={css({ display: 'flex' })}>\n        <div className={css({ flexGrow: 1 })}>\n          {isRawQuery ? <RawQueryEditor {...props} /> : <VisualQueryEditor {...props} />}\n        </div>\n        <QueryEditorModeSwitcher\n          isRawQuery={isRawQuery ?? false}\n          onIsRawChange={(newIsRawQuery) => {\n            onChange({ ...query, isRawQuery: newIsRawQuery }); //TODO: should transform query built in visual editor to raw query\n            onRunQuery();\n          }}\n        />\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport type { DataSource } from 'datasource';\nimport type { QueryEditorProps } from '@grafana/data';\nimport type { GreptimeQuery, GreptimeSourceOptions } from 'types';\n\ntype Props = QueryEditorProps<DataSource, GreptimeQuery, GreptimeSourceOptions>;\n\nexport const PromqlQueryEditor: React.FunctionComponent<Props> = (props) => {\n  return <div>placeholder</div>;\n};\n","import React from 'react';\nimport type { DataSource } from 'datasource';\nimport type { QueryEditorProps } from '@grafana/data';\nimport type { GreptimeQuery, GreptimeSourceOptions } from 'types';\nimport { QueryLanguages } from 'greptimedb/types';\nimport { QueryEditor as MysqlQueryEditor } from './mysql';\nimport { PromqlQueryEditor } from './promql';\n\ntype Props = QueryEditorProps<DataSource, GreptimeQuery, GreptimeSourceOptions>;\n\nexport const QueryEditor: React.FunctionComponent<Props> = (props) => {\n  switch (props.datasource.queryLanguage) {\n    case QueryLanguages.Mysql:\n      return <MysqlQueryEditor {...props} />;\n    case QueryLanguages.PromQL:\n      return <PromqlQueryEditor {...props} />;\n\n    default:\n      return <MysqlQueryEditor {...props} />;\n  }\n};\n","import { DataSourcePlugin } from '@grafana/data';\nimport { DataSource } from './datasource';\nimport { ConfigEditor } from './components/ConfigEditor';\nimport { QueryEditor } from './components/QueryEditor';\nimport { GreptimeQuery, GreptimeSourceOptions } from './types';\n\nexport const plugin = new DataSourcePlugin<DataSource, GreptimeQuery, GreptimeSourceOptions>(DataSource)\n  .setConfigEditor(ConfigEditor)\n  .setQueryEditor(QueryEditor);\n"],"names":["Symbol","module","exports","func","thisArg","args","length","call","apply","baseTimes","isArguments","isArray","isBuffer","isIndex","isTypedArray","hasOwnProperty","Object","prototype","value","inherited","isArr","isArg","isBuff","isType","skipIndexes","result","String","key","push","getRawTag","objectToString","symToStringTag","toStringTag","undefined","baseGetTag","isObjectLike","isFunction","isMasked","isObject","toSource","reIsHostCtor","funcProto","Function","objectProto","funcToString","toString","reIsNative","RegExp","replace","test","isLength","typedArrayTags","isPrototype","nativeKeysIn","object","isProto","identity","overRest","setToString","start","constant","defineProperty","baseSetToString","string","n","iteratee","index","Array","coreJsData","getNative","e","freeGlobal","g","baseIsNative","getValue","nativeObjectToString","isOwn","tag","unmasked","reIsUint","type","eq","isArrayLike","uid","maskSrcKey","exec","keys","IE_PROTO","Ctor","constructor","freeExports","nodeType","freeModule","freeProcess","process","nodeUtil","require","types","binding","nativeMax","Math","max","transform","arguments","array","otherArgs","this","freeSelf","self","root","shortOut","nativeNow","Date","now","count","lastCalled","stamp","remaining","baseRest","isIterateeCall","keysIn","defaults","sources","guard","source","props","propsIndex","propsLength","other","baseIsArguments","propertyIsEnumerable","stubFalse","Buffer","baseIsTypedArray","baseUnary","nodeIsTypedArray","arrayLikeKeys","baseKeysIn","__WEBPACK_EXTERNAL_MODULE__7644__","__WEBPACK_EXTERNAL_MODULE__3305__","__WEBPACK_EXTERNAL_MODULE__3545__","__WEBPACK_EXTERNAL_MODULE__7388__","__WEBPACK_EXTERNAL_MODULE__2650__","__WEBPACK_EXTERNAL_MODULE__1177__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","id","loaded","__webpack_modules__","getter","__esModule","d","a","definition","o","enumerable","get","globalThis","window","obj","prop","r","nmd","paths","children","GreptimeDataTypes","Null","Boolean","UInt8","UInt16","UInt32","UInt64","Int8","Int16","Int32","Int64","Float32","Float64","Binary","DateTime","TimestampSecond","TimestampMillisecond","TimestampMicrosecond","TimestampNanosecond","List","GreptimeHttpResultCode","Success","Unknown","Unsupported","Unexpected","Internal","InvalidArguments","InvalidSyntax","PlanQuery","EngineExecuteQuery","TableAlreadyExists","TableNotFound","TableColumnNotFound","TableColumnExists","DatabaseNotFound","StorageUnavailable","RuntimeResourcesExhausted","UserNotFound","UnsupportedPasswordType","UserPasswordMismatch","AuthHeaderNotFound","InvalidAuthHeader","AccessDenied","QueryLanguages","Mysql","PromQL","greptimeTypeToGrafana","FieldType","GreptimeDBHttpSqlClient","fetch","options","response","lastValueFrom","getBackendSrv","data","Error","code","error","querySql","sql","url","SQL_URL","method","headers","params","db","database","querySqlToDataFrame","output","records","rows","MutableDataFrame","columnSchemas","schema","column_schemas","dataRows","fields","map","columnSchema","idx","name","data_type","values","row","parseResponseToDataFrame","table","nullable","default","semantic_type","queryColumnNamesOfTable","queryColumnSchemaOfTable","baseUrl","DataSource","DataSourceApi","query","promises","targets","target","queryText","timeColumn","range","from","to","unix","generateTimeFilter","replaceTimeFilterMacro","client","Promise","all","then","testDatasource","status","message","err","instanceSettings","super","jsonData","queryLanguage","t","join","Q","getPrototypeOf","Z","L","s","v","i","nn","forEach","u","has","f","set","add","X","Map","q","Set","p","l","slice","rn","writable","configurable","create","y","clear","delete","h","freeze","isFrozen","b","tn","_","U","j","O","S","w","m","P","M","x","H","A","I","k","N","c","R","concat","D","z","getOwnPropertyDescriptor","E","F","T","C","en","on","Proxy","revocable","revoke","proxy","J","K","G","W","B","Reflect","for","iterator","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","getOwnPropertyDescriptors","Number","isNaN","deleteProperty","setPrototypeOf","un","produce","produceWithPatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","path","op","$","an","fn","bind","FormField","LegacyForms","queryLanguageOptions","label","defaultQuery","selectedColumns","whereConditions","groupByColumns","RawQueryEditor","PureComponent","render","div","CodeEditor","height","language","onEditorDidMount","onBlur","onEditorTextChange","onSave","changeQuery","onChange","onChangeFactory","event","editor","onRunQuery","toSelectableValue","AddSegment","loadOptions","SegmentAsync","placeholder","RemoveablePopover","onRemove","Tooltip","interactive","content","Button","onClick","variant","size","placement","span","addonOptions","param","SelectAddons","selectStatement","onChangeAlias","onChangeAddons","addons","alias","styles","useStyles2","getStyles","handleRemoveAddon","addonIdx","newAddons","filter","handleReselectAddon","select","draft","addon","React","resolve","SegmentInput","text","InlineLabel","width","className","inlineLabel","newAddon","theme","css","colors","primary","SelectSection","selectStatements","changeQueryByKey","onLoadColumnSchema","handleLoadUnselectedColumns","stmt","column","includes","handleAddColumn","newSelectStatements","handleReselectColumn","handleRemoveSelectedColumn","handleOnChangeAlias","stmtIdx","newAlias","selectStatementsWithPlaceholder","SegmentSection","fill","selfVal","OPERATORS","CONNECTORS","defaultStatement","WhereSection","handleLoadAllColumns","handleAddCondition","newWhereConditions","handleChangeColumn","condition","handleChangeOperator","handleChangeValue","newVal","handleChangeConnector","handleRemoveWhereCondition","whereConditionsWithPlaceholder","connector","Segment","inputMinWidth","GroupBySection","handleLoadAddableColumns","col","newSelectedColumns","handleRemoveColumn","groupByColumnsWithPlaceholder","InlineTimeColumnSection","fromTable","handleLoadTimeColumns","mapGreptimeTypeToGrafana","greptimeType","lastTableRef","useRef","useEffect","current","timeIndexColumn","find","VisualQueryEditor","datasource","oriQuery","newQuery","newSql","isRawQuery","res","reduce","expr","console","log","conditions","sparater","connectWhereConditions","tryInsertTimeFilterMacro","buildQuery","onUpdateQuery","getAllTables","useMemo","showTables","handleLoadFromTables","getColumnSchema","handleLoadColumnSchema","getColumnNames","QueryEditorModeSwitcher","onIsRawChange","isModalOpen","setModalOpen","useState","aria-label","icon","ConfirmModal","isOpen","title","body","confirmText","dismissText","onConfirm","onDismiss","QueryEditor","display","flexGrow","newIsRawQuery","PromqlQueryEditor","plugin","DataSourcePlugin","setConfigEditor","onOptionsChange","changeJsonData","opt","h3","Select","defaultValue","DataSourceHttpSettings","dataSourceConfig","defaultUrl","showAccessOptions","Alert","severity","br","labelWidth","inputWidth","setQueryEditor","MysqlQueryEditor"],"sourceRoot":""}